import{j as Xe,aL as un,aM as Et,aN as rn,aO as sn,O as qn,$ as On,az as Hn,P as Bt,R as pn,q as Je,r as P,k as S,S as zt,aP as An,T as In,aA as Yn,U as Tn,aQ as Fn,C as me,aR as En,aS as Qt,aT as Bn,J as zn,aU as Pn,a0 as Rn,aV as jn,aW as Ln,l as h,m as ot,aB as lt,s as Pt,aX as cn,N as ze,v as $n,x as ke,aY as Nn,an as Qn,ap as dn,ao as fn,aZ as vn,a_ as Kn,a$ as Kt,b0 as Zn,b1 as dt,b2 as Wn,K as Ot,b3 as Un,b4 as Xn,aa as Jn,L as tt,aD as Gn,am as mn,a6 as ea,b5 as hn,b6 as ta,b7 as na,au as aa,b8 as la,i as Fe,aw as oa,p as ua,b9 as ra,Z as ia,ba as sa}from"./index-B-uU-IwF.js";import{Q as ca}from"./QChip-20dD3OR9.js";import{v as da,f as Zt,g as gn,h as fa,i as yn,p as Wt,j as va,r as Ut,s as ma,n as Xt,a as ha,d as ga,Q as ya,k as $}from"./QItem-B76h26OC.js";const Sa=Xe({name:"QField",inheritAttrs:!1,props:{...Et,tag:{type:String,default:"label"}},emits:un,setup(){return rn(sn({tagProp:!0}))}}),Sn=Xe({name:"QMenu",inheritAttrs:!1,props:{...gn,...pn,...Bt,...Hn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Zt},self:{type:String,validator:Zt},offset:{type:Array,validator:da},scrollTarget:On,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...qn,"click","escapeKey"],setup(e,{slots:l,emit:u,attrs:d}){let f=null,o,w,i;const v=Je(),{proxy:q}=v,{$q:s}=q,g=P(null),_=P(!1),k=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=zt(e,s),{registerTick:Y,removeTick:H}=An(),{registerTimeout:ne}=In(),{transitionProps:he,transitionStyle:I}=Yn(e),{localScrollTarget:m,changeScrollEvent:R,unconfigureScrollTarget:W}=fa(e,T),{anchorEl:X,canShow:ge}=yn({showing:_}),{hide:De}=Tn({showing:_,canShow:ge,handleShow:Ce,handleHide:c,hideOnRouteChange:k,processOnMount:!0}),{showPortal:se,hidePortal:J,renderPortal:ae}=Fn(v,g,U,"menu"),le={anchorEl:X,innerRef:g,onClickOutside(y){if(e.persistent!==!0&&_.value===!0)return De(y),(y.type==="touchstart"||y.target.classList.contains("q-dialog__backdrop"))&&ze(y),!0}},ve=S(()=>Wt(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ye=S(()=>e.cover===!0?ve.value:Wt(e.self||"top start",s.lang.rtl)),ie=S(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),oe=S(()=>e.autoClose===!0?{onClick:j}:{}),ce=S(()=>_.value===!0&&e.persistent!==!0);me(ce,y=>{y===!0?(En(F),va(le)):(Qt(F),Ut(le))});function de(){cn(()=>{let y=g.value;y&&y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function Ce(y){if(f=e.noRefocus===!1?document.activeElement:null,Bn(K),se(),T(),o=void 0,y!==void 0&&(e.touchPosition||e.contextMenu)){const te=zn(y);if(te.left!==void 0){const{top:N,left:G}=X.value.getBoundingClientRect();o={left:te.left-G,top:te.top-N}}}w===void 0&&(w=me(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,A)),e.noFocus!==!0&&document.activeElement.blur(),Y(()=>{A(),e.noFocus!==!0&&de()}),ne(()=>{s.platform.is.ios===!0&&(i=e.autoClose,g.value.click()),A(),se(!0),u("show",y)},e.transitionDuration)}function c(y){H(),J(),M(!0),f!==null&&(y===void 0||y.qClickOutside!==!0)&&(((y?.type.indexOf("key")===0?f.closest('[tabindex]:not([tabindex^="-"])'):void 0)||f).focus(),f=null),ne(()=>{J(!0),u("hide",y)},e.transitionDuration)}function M(y){o=void 0,w!==void 0&&(w(),w=void 0),(y===!0||_.value===!0)&&(Pn(K),W(),Ut(le),Qt(F)),y!==!0&&(f=null)}function T(){(X.value!==null||e.scrollTarget!==void 0)&&(m.value=Rn(X.value,e.scrollTarget),R(m.value,A))}function j(y){i!==!0?(jn(q,y),u("click",y)):i=!1}function K(y){ce.value===!0&&e.noFocus!==!0&&Ln(g.value,y.target)!==!0&&de()}function F(y){e.noEscDismiss!==!0&&(u("escapeKey"),De(y))}function A(){ma({targetEl:g.value,offset:e.offset,anchorEl:X.value,anchorOrigin:ve.value,selfOrigin:ye.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function U(){return h(lt,he.value,()=>_.value===!0?h("div",{role:"menu",...d,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,d.class],style:[d.style,I.value],...oe.value},ot(l.default)):null)}return Pt(M),Object.assign(q,{focus:de,updatePosition:A}),ae}});let Mt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Mt=e.scrollLeft>=0,e.remove()}const _e=1e3,ba=["start","center","end","start-force","center-force","end-force"],bn=Array.prototype.filter,wa=window.getComputedStyle(document.body).overflowAnchor===void 0?$n:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];bn.call(u,f=>f.dataset&&f.dataset.qVsAnchor!==void 0).forEach(f=>{delete f.dataset.qVsAnchor});const d=u[l];d?.dataset&&(d.dataset.qVsAnchor="")}))};function ut(e,l){return e+l}function Ht(e,l,u,d,f,o,w,i){const v=e===window?document.scrollingElement||document.documentElement:e,q=f===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-w-i,scrollMaxSize:0,offsetStart:-w,offsetEnd:-i};if(f===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=v.scrollLeft,s.scrollViewSize+=v.clientWidth),s.scrollMaxSize=v.scrollWidth,o===!0&&(s.scrollStart=(Mt===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=v.scrollTop,s.scrollViewSize+=v.clientHeight),s.scrollMaxSize=v.scrollHeight),u!==null)for(let g=u.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=g[q]);if(d!==null)for(let g=d.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=g[q]);if(l!==e){const g=v.getBoundingClientRect(),_=l.getBoundingClientRect();f===!0?(s.offsetStart+=_.left-g.left,s.offsetEnd-=_.width):(s.offsetStart+=_.top-g.top,s.offsetEnd-=_.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function Jt(e,l,u,d){l==="end"&&(l=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(d===!0&&(l=(Mt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):u===!0?(d===!0&&(l=(Mt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function ft(e,l,u,d){if(u>=d)return 0;const f=l.length,o=Math.floor(u/_e),w=Math.floor((d-1)/_e)+1;let i=e.slice(o,w).reduce(ut,0);return u%_e!==0&&(i-=l.slice(o*_e,u).reduce(ut,0)),d%_e!==0&&d!==f&&(i-=l.slice(d,w*_e).reduce(ut,0)),i}const wn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},La=Object.keys(wn),Gt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...wn};function Ma({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:u,virtualScrollItemSizeComputed:d}){const f=Je(),{props:o,emit:w,proxy:i}=f,{$q:v}=i;let q,s,g,_=[],k;const p=P(0),Y=P(0),H=P({}),ne=P(null),he=P(null),I=P(null),m=P({from:0,to:0}),R=S(()=>o.tableColspan!==void 0?o.tableColspan:100);d===void 0&&(d=S(()=>o.virtualScrollItemSize));const W=S(()=>d.value+";"+o.virtualScrollHorizontal),X=S(()=>W.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);me(X,()=>{ie()}),me(W,ge);function ge(){ye(s,!0)}function De(c){ye(c===void 0?s:c)}function se(c,M){const T=l();if(T==null||T.nodeType===8)return;const j=Ht(T,u(),ne.value,he.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);g!==j.scrollViewSize&&ie(j.scrollViewSize),ae(T,j,Math.min(e.value-1,Math.max(0,parseInt(c,10)||0)),0,ba.indexOf(M)!==-1?M:s!==-1&&c>s?"end":"start")}function J(){const c=l();if(c==null||c.nodeType===8)return;const M=Ht(c,u(),ne.value,he.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),T=e.value-1,j=M.scrollMaxSize-M.offsetStart-M.offsetEnd-Y.value;if(q===M.scrollStart)return;if(M.scrollMaxSize<=0){ae(c,M,0,0);return}g!==M.scrollViewSize&&ie(M.scrollViewSize),le(m.value.from);const K=Math.floor(M.scrollMaxSize-Math.max(M.scrollViewSize,M.offsetEnd)-Math.min(k[T],M.scrollViewSize/2));if(K>0&&Math.ceil(M.scrollStart)>=K){ae(c,M,T,M.scrollMaxSize-M.offsetEnd-_.reduce(ut,0));return}let F=0,A=M.scrollStart-M.offsetStart,U=A;if(A<=j&&A+M.scrollViewSize>=p.value)A-=p.value,F=m.value.from,U=A;else for(let y=0;A>=_[y]&&F<T;y++)A-=_[y],F+=_e;for(;A>0&&F<T;)A-=k[F],A>-M.scrollViewSize?(F++,U=A):U=k[F]+A;ae(c,M,F,U)}function ae(c,M,T,j,K){const F=typeof K=="string"&&K.indexOf("-force")!==-1,A=F===!0?K.replace("-force",""):K,U=A!==void 0?A:"start";let y=Math.max(0,T-H.value[U]),te=y+H.value.total;te>e.value&&(te=e.value,y=Math.max(0,te-H.value.total)),q=M.scrollStart;const N=y!==m.value.from||te!==m.value.to;if(N===!1&&A===void 0){ce(T);return}const{activeElement:G}=document,Se=I.value;N===!0&&Se!==null&&Se!==G&&Se.contains(G)===!0&&(Se.addEventListener("focusout",ve),setTimeout(()=>{Se?.removeEventListener("focusout",ve)})),wa(Se,T-y);const Ae=A!==void 0?k.slice(y,T).reduce(ut,0):0;if(N===!0){const qe=te>=m.value.from&&y<=m.value.to?m.value.to:te;m.value={from:y,to:qe},p.value=ft(_,k,0,y),Y.value=ft(_,k,te,e.value),requestAnimationFrame(()=>{m.value.to!==te&&q===M.scrollStart&&(m.value={from:m.value.from,to:te},Y.value=ft(_,k,te,e.value))})}requestAnimationFrame(()=>{if(q!==M.scrollStart)return;N===!0&&le(y);const qe=k.slice(y,T).reduce(ut,0),be=qe+M.offsetStart+p.value,ue=be+k[T];let Le=be+j;if(A!==void 0){const rt=qe-Ae,$e=M.scrollStart+rt;Le=F!==!0&&$e<be&&ue<$e+M.scrollViewSize?$e:A==="end"?ue-M.scrollViewSize:be-(A==="start"?0:Math.round((M.scrollViewSize-k[T])/2))}q=Le,Jt(c,Le,o.virtualScrollHorizontal,v.lang.rtl),ce(T)})}function le(c){const M=I.value;if(M){const T=bn.call(M.children,y=>y.classList&&y.classList.contains("q-virtual-scroll--skip")===!1),j=T.length,K=o.virtualScrollHorizontal===!0?y=>y.getBoundingClientRect().width:y=>y.offsetHeight;let F=c,A,U;for(let y=0;y<j;){for(A=K(T[y]),y++;y<j&&T[y].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=K(T[y]),y++;U=A-k[F],U!==0&&(k[F]+=U,_[Math.floor(F/_e)]+=U),F++}}}function ve(){I.value?.focus()}function ye(c,M){const T=1*d.value;(M===!0||Array.isArray(k)===!1)&&(k=[]);const j=k.length;k.length=e.value;for(let F=e.value-1;F>=j;F--)k[F]=T;const K=Math.floor((e.value-1)/_e);_=[];for(let F=0;F<=K;F++){let A=0;const U=Math.min((F+1)*_e,e.value);for(let y=F*_e;y<U;y++)A+=k[y];_.push(A)}s=-1,q=void 0,p.value=ft(_,k,0,m.value.from),Y.value=ft(_,k,m.value.to,e.value),c>=0?(le(m.value.from),ke(()=>{se(c)})):de()}function ie(c){if(c===void 0&&typeof window<"u"){const A=l();A!=null&&A.nodeType!==8&&(c=Ht(A,u(),ne.value,he.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}g=c;const M=parseFloat(o.virtualScrollSliceRatioBefore)||0,T=parseFloat(o.virtualScrollSliceRatioAfter)||0,j=1+M+T,K=c===void 0||c<=0?1:Math.ceil(c/d.value),F=Math.max(1,K,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/j));H.value={total:Math.ceil(F*j),start:Math.ceil(F*M),center:Math.ceil(F*(.5+M)),end:Math.ceil(F*(1+M)),view:K}}function oe(c,M){const T=o.virtualScrollHorizontal===!0?"width":"height",j={["--q-virtual-scroll-item-"+T]:d.value+"px"};return[c==="tbody"?h(c,{class:"q-virtual-scroll__padding",key:"before",ref:ne},[h("tr",[h("td",{style:{[T]:`${p.value}px`,...j},colspan:R.value})])]):h(c,{class:"q-virtual-scroll__padding",key:"before",ref:ne,style:{[T]:`${p.value}px`,...j}}),h(c,{class:"q-virtual-scroll__content",key:"content",ref:I,tabindex:-1},M.flat()),c==="tbody"?h(c,{class:"q-virtual-scroll__padding",key:"after",ref:he},[h("tr",[h("td",{style:{[T]:`${Y.value}px`,...j},colspan:R.value})])]):h(c,{class:"q-virtual-scroll__padding",key:"after",ref:he,style:{[T]:`${Y.value}px`,...j}})]}function ce(c){s!==c&&(o.onVirtualScroll!==void 0&&w("virtualScroll",{index:c,from:m.value.from,to:m.value.to-1,direction:c<s?"decrease":"increase",ref:i}),s=c)}ie();const de=Nn(J,v.platform.is.ios===!0?120:35);Qn(()=>{ie()});let Ce=!1;return dn(()=>{Ce=!0}),fn(()=>{if(Ce!==!0)return;const c=l();q!==void 0&&c!==void 0&&c!==null&&c.nodeType!==8?Jt(c,q,o.virtualScrollHorizontal,v.lang.rtl):se(s)}),Pt(()=>{de.cancel()}),Object.assign(i,{scrollTo:se,reset:ge,refresh:De}),{virtualScrollSliceRange:m,virtualScrollSliceSizeComputed:H,setVirtualScrollSize:ie,onVirtualScrollEvt:de,localResetVirtualScroll:ye,padVirtualScroll:oe,scrollTo:se,reset:ge,refresh:De}}const en=e=>["add","add-unique","toggle"].includes(e),Da=".*+?^${}()|[]\\",xa=Object.keys(Et);function pt(e,l){if(typeof e=="function")return e;const u=e!==void 0?e:l;return d=>d!==null&&typeof d=="object"&&u in d?d[u]:d}const $a=Xe({name:"QSelect",inheritAttrs:!1,props:{...Gt,...vn,...Et,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:en},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Gt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...un,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:u}){const{proxy:d}=Je(),{$q:f}=d,o=P(!1),w=P(!1),i=P(-1),v=P(""),q=P(!1),s=P(!1);let g=null,_=null,k,p,Y,H=null,ne,he,I,m;const R=P(null),W=P(null),X=P(null),ge=P(null),De=P(null),se=Kn(e),J=Zn(et),ae=S(()=>Array.isArray(e.options)?e.options.length:0),le=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ve,virtualScrollSliceSizeComputed:ye,localResetVirtualScroll:ie,padVirtualScroll:oe,onVirtualScrollEvt:ce,scrollTo:de,setVirtualScrollSize:Ce}=Ma({virtualScrollLength:ae,getVirtualScrollTarget:Ge,getVirtualScrollEl:st,virtualScrollItemSizeComputed:le}),c=sn(),M=S(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,x=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const C=e.mapOptions===!0&&k!==void 0?k:[],B=x.map(Q=>mt(Q,C));return e.modelValue===null&&n===!0?B.filter(Q=>Q!==null):B}return x}),T=S(()=>{const n={};return xa.forEach(x=>{const C=e[x];C!==void 0&&(n[x]=C)}),n}),j=S(()=>e.optionsDark===null?c.isDark.value:e.optionsDark),K=S(()=>Kt(M.value)),F=S(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||M.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),A=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),U=S(()=>ae.value===0),y=S(()=>M.value.map(n=>fe.value(n)).join(", ")),te=S(()=>e.displayValue!==void 0?e.displayValue:y.value),N=S(()=>e.optionsHtml===!0?()=>!0:n=>n?.html===!0),G=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||M.value.some(N.value))),Se=S(()=>c.focused.value===!0?e.tabindex:-1),Ae=S(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${c.targetUid.value}_lb`};return i.value>=0&&(n["aria-activedescendant"]=`${c.targetUid.value}_${i.value}`),n}),qe=S(()=>({id:`${c.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),be=S(()=>M.value.map((n,x)=>({index:x,opt:n,html:N.value(n),selected:!0,removeAtIndex:xt,toggleOption:Ve,tabindex:Se.value}))),ue=S(()=>{if(ae.value===0)return[];const{from:n,to:x}=ve.value;return e.options.slice(n,x).map((C,B)=>{const Q=Oe.value(C)===!0,L=Ze(C)===!0,re=n+B,ee={clickable:!0,active:L,activeClass:$e.value,manualFocus:!0,focused:!1,disable:Q,tabindex:-1,dense:e.optionsDense,dark:j.value,role:"option","aria-selected":L===!0?"true":"false",id:`${c.targetUid.value}_${re}`,onClick:()=>{Ve(C)}};return Q!==!0&&(i.value===re&&(ee.focused=!0),f.platform.is.desktop===!0&&(ee.onMousemove=()=>{o.value===!0&&Ie(re)})),{index:re,opt:C,html:N.value(C),label:fe.value(C),selected:ee.active,focused:ee.focused,toggleOption:Ve,setOptionIndex:Ie,itemProps:ee}})}),Le=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:f.iconSet.arrow.dropdown),rt=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),$e=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),we=S(()=>pt(e.optionValue,"value")),fe=S(()=>pt(e.optionLabel,"label")),Oe=S(()=>pt(e.optionDisable,"disable")),Ne=S(()=>M.value.map(we.value)),Dt=S(()=>{const n={onInput:et,onChange:J,onKeydown:Ye,onKeyup:yt,onKeypress:He,onFocus:ht,onClick(x){p===!0&&tt(x)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=J,n});me(M,n=>{k=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&c.innerLoading.value!==!0&&(w.value!==!0&&o.value!==!0||K.value!==!0)&&(Y!==!0&&xe(),(w.value===!0||o.value===!0)&&pe(""))},{immediate:!0}),me(()=>e.fillInput,xe),me(o,_t),me(ae,_n);function vt(n){return e.emitValue===!0?we.value(n):n}function Qe(n){if(n!==-1&&n<M.value.length)if(e.multiple===!0){const x=e.modelValue.slice();u("remove",{index:n,value:x.splice(n,1)[0]}),u("update:modelValue",x)}else u("update:modelValue",null)}function xt(n){Qe(n),c.focus()}function it(n,x){const C=vt(n);if(e.multiple!==!0){e.fillInput===!0&&Ue(fe.value(n),!0,!0),u("update:modelValue",C);return}if(M.value.length===0){u("add",{index:0,value:C}),u("update:modelValue",e.multiple===!0?[C]:C);return}if(x===!0&&Ze(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();u("add",{index:B.length,value:C}),B.push(C),u("update:modelValue",B)}function Ve(n,x){if(c.editable.value!==!0||n===void 0||Oe.value(n)===!0)return;const C=we.value(n);if(e.multiple!==!0){x!==!0&&(Ue(e.fillInput===!0?fe.value(n):"",!0,!0),z()),W.value?.focus(),(M.value.length===0||dt(we.value(M.value[0]),C)!==!0)&&u("update:modelValue",e.emitValue===!0?C:n);return}if((p!==!0||q.value===!0)&&c.focus(),ht(),M.value.length===0){const L=e.emitValue===!0?C:n;u("add",{index:0,value:L}),u("update:modelValue",e.multiple===!0?[L]:L);return}const B=e.modelValue.slice(),Q=Ne.value.findIndex(L=>dt(L,C));if(Q!==-1)u("remove",{index:Q,value:B.splice(Q,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const L=e.emitValue===!0?C:n;u("add",{index:B.length,value:L}),B.push(L)}u("update:modelValue",B)}function Ie(n){if(f.platform.is.desktop!==!0)return;const x=n!==-1&&n<ae.value?n:-1;i.value!==x&&(i.value=x)}function Ke(n=1,x){if(o.value===!0){let C=i.value;do C=Xt(C+n,-1,ae.value-1);while(C!==-1&&C!==i.value&&Oe.value(e.options[C])===!0);i.value!==C&&(Ie(C),de(C),x!==!0&&e.useInput===!0&&e.fillInput===!0&&We(C>=0?fe.value(e.options[C]):ne,!0))}}function mt(n,x){const C=B=>dt(we.value(B),n);return e.options.find(C)||x.find(C)||n}function Ze(n){const x=we.value(n);return Ne.value.find(C=>dt(C,x))!==void 0}function ht(n){e.useInput===!0&&W.value!==null&&(n===void 0||W.value===n.target&&n.target.value===y.value)&&W.value.select()}function gt(n){Gn(n,27)===!0&&o.value===!0&&(tt(n),z(),xe()),u("keyup",n)}function yt(n){const{value:x}=n.target;if(n.keyCode!==void 0){gt(n);return}if(n.target.value="",g!==null&&(clearTimeout(g),g=null),_!==null&&(clearTimeout(_),_=null),xe(),typeof x=="string"&&x.length!==0){const C=x.toLocaleLowerCase(),B=L=>{const re=e.options.find(ee=>String(L.value(ee)).toLocaleLowerCase()===C);return re===void 0?!1:(M.value.indexOf(re)===-1?Ve(re):z(),!0)},Q=L=>{B(we)!==!0&&L!==!0&&B(fe)!==!0&&pe(x,!0,()=>Q(!0))};Q()}else c.clearValue(n)}function He(n){u("keypress",n)}function Ye(n){if(u("keydown",n),Wn(n)===!0)return;const x=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),C=n.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(i.value!==-1||x===!0);if(n.keyCode===27){Ot(n);return}if(n.keyCode===9&&C===!1){V();return}if(n.target===void 0||n.target.id!==c.targetUid.value||c.editable.value!==!0)return;if(n.keyCode===40&&c.innerLoading.value!==!0&&o.value===!1){ze(n),O();return}if(n.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Qe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(ze(n),i.value=-1,Ke(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&ye.value!==void 0&&(ze(n),i.value=Math.max(-1,Math.min(ae.value,i.value+(n.keyCode===33?-1:1)*ye.value.view)),Ke(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(ze(n),Ke(n.keyCode===38?-1:1,e.multiple));const B=ae.value;if((I===void 0||m<Date.now())&&(I=""),B>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||I.length!==0)){o.value!==!0&&O(n);const Q=n.key.toLocaleLowerCase(),L=I.length===1&&I[0]===Q;m=Date.now()+1500,L===!1&&(ze(n),I+=Q);const re=new RegExp("^"+I.split("").map(qt=>Da.indexOf(qt)!==-1?"\\"+qt:qt).join(".*"),"i");let ee=i.value;if(L===!0||ee<0||re.test(fe.value(e.options[ee]))!==!0)do ee=Xt(ee+1,-1,B-1);while(ee!==i.value&&(Oe.value(e.options[ee])===!0||re.test(fe.value(e.options[ee]))!==!0));i.value!==ee&&ke(()=>{Ie(ee),de(ee),ee>=0&&e.useInput===!0&&e.fillInput===!0&&We(fe.value(e.options[ee]),!0)});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||I!=="")&&(n.keyCode!==9||C===!1))){if(n.keyCode!==9&&ze(n),i.value!==-1&&i.value<B){Ve(e.options[i.value]);return}if(x===!0){const Q=(L,re)=>{if(re){if(en(re)!==!0)return}else re=e.newValueMode;if(Ue("",e.multiple!==!0,!0),L==null)return;(re==="toggle"?Ve:it)(L,re==="add-unique"),e.multiple!==!0&&(W.value?.focus(),z())};if(e.onNewValue!==void 0?u("newValue",v.value,Q):Q(v.value),e.multiple!==!0)return}o.value===!0?V():c.innerLoading.value!==!0&&O()}}function st(){return p===!0?De.value:X.value!==null&&X.value.contentEl!==null?X.value.contentEl:void 0}function Ge(){return st()}function St(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?be.value.map(n=>l["selected-item"](n)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?be.value.map((n,x)=>h(ca,{key:"option-"+x,removable:c.editable.value===!0&&Oe.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:Se.value,onRemove(){n.removeAtIndex(x)}},()=>h("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:fe.value(n.opt)}))):[h("span",{class:"ellipsis",[G.value===!0?"innerHTML":"textContent"]:te.value})]}function Te(){if(U.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:v.value}):void 0;const n=l.option!==void 0?l.option:C=>h(ya,{key:C.index,...C.itemProps},()=>h(ha,()=>h(ga,()=>h("span",{[C.html===!0?"innerHTML":"textContent"]:C.label}))));let x=oe("div",ue.value.map(n));return l["before-options"]!==void 0&&(x=l["before-options"]().concat(x)),ea(l["after-options"],x)}function ct(n,x){const C=x===!0?{...Ae.value,...c.splitAttrs.attributes.value}:void 0,B={ref:x===!0?W:void 0,key:"i_t",class:F.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...C,id:x===!0?c.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Dt.value};return n!==!0&&p===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),h("input",B)}function et(n){g!==null&&(clearTimeout(g),g=null),_!==null&&(clearTimeout(_),_=null),!(n&&n.target&&n.target.qComposing===!0)&&(We(n.target.value||""),Y=!0,ne=v.value,c.focused.value!==!0&&(p!==!0||q.value===!0)&&c.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,pe(v.value)},e.inputDebounce)))}function We(n,x){v.value!==n&&(v.value=n,x===!0||e.inputDebounce===0||e.inputDebounce==="0"?u("inputValue",n):_=setTimeout(()=>{_=null,u("inputValue",n)},e.inputDebounce))}function Ue(n,x,C){Y=C!==!0,e.useInput===!0&&(We(n,!0),(x===!0||C!==!0)&&(ne=n),x!==!0&&pe(n))}function pe(n,x,C){if(e.onFilter===void 0||x!==!0&&c.focused.value!==!0)return;c.innerLoading.value===!0?u("filterAbort"):(c.innerLoading.value=!0,s.value=!0),n!==""&&e.multiple!==!0&&M.value.length!==0&&Y!==!0&&n===fe.value(M.value[0])&&(n="");const B=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);H!==null&&clearTimeout(H),H=B,u("filter",n,(Q,L)=>{(x===!0||c.focused.value===!0)&&H===B&&(clearTimeout(H),typeof Q=="function"&&Q(),s.value=!1,ke(()=>{c.innerLoading.value=!1,c.editable.value===!0&&(x===!0?o.value===!0&&z():o.value===!0?_t(!0):o.value=!0),typeof L=="function"&&ke(()=>{L(d)}),typeof C=="function"&&ke(()=>{C(d)})}))},()=>{c.focused.value===!0&&H===B&&(clearTimeout(H),c.innerLoading.value=!1,s.value=!1),o.value===!0&&(o.value=!1)})}function Ct(){return h(Sn,{ref:X,class:A.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&U.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:j.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:rt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...qe.value,onScrollPassive:ce,onBeforeShow:Lt,onBeforeHide:Vt,onShow:kt},Te)}function Vt(n){$t(n),V()}function kt(){Ce()}function t(n){tt(n),W.value?.focus(),q.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function a(n){tt(n),ke(()=>{q.value=!1})}function r(){const n=[h(Sa,{class:`col-auto ${c.fieldClass.value}`,...T.value,for:c.targetUid.value,dark:j.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...c.splitAttrs.listeners.value,onFocus:t,onBlur:a},{...l,rawControl:()=>c.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&n.push(h("div",{ref:De,class:A.value+" scroll",style:e.popupContentStyle,...qe.value,onClick:Ot,onScrollPassive:ce},Te())),h(mn,{ref:ge,modelValue:w.value,position:e.useInput===!0?"top":void 0,transitionShow:he,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Lt,onBeforeHide:b,onHide:D,onShow:E},()=>h("div",{class:"q-select__dialog"+(j.value===!0?" q-select__dialog--dark q-dark":"")+(q.value===!0?" q-select__dialog--focused":"")},n))}function b(n){$t(n),ge.value!==null&&ge.value.__updateRefocusTarget(c.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),c.focused.value=!1}function D(n){z(),c.focused.value===!1&&u("blur",n),xe()}function E(){const n=document.activeElement;(n===null||n.id!==c.targetUid.value)&&W.value!==null&&W.value!==n&&W.value.focus(),Ce()}function V(){w.value!==!0&&(i.value=-1,o.value===!0&&(o.value=!1),c.focused.value===!1&&(H!==null&&(clearTimeout(H),H=null),c.innerLoading.value===!0&&(u("filterAbort"),c.innerLoading.value=!1,s.value=!1)))}function O(n){c.editable.value===!0&&(p===!0?(c.onControlFocusin(n),w.value=!0,ke(()=>{c.focus()})):c.focus(),e.onFilter!==void 0?pe(v.value):(U.value!==!0||l["no-option"]!==void 0)&&(o.value=!0))}function z(){w.value=!1,V()}function xe(){e.useInput===!0&&Ue(e.multiple!==!0&&e.fillInput===!0&&M.value.length!==0&&fe.value(M.value[0])||"",!0,!0)}function _t(n){let x=-1;if(n===!0){if(M.value.length!==0){const C=we.value(M.value[0]);x=e.options.findIndex(B=>dt(we.value(B),C))}ie(x)}Ie(x)}function _n(n,x){o.value===!0&&c.innerLoading.value===!1&&(ie(-1,!0),ke(()=>{o.value===!0&&c.innerLoading.value===!1&&(n>x?ie():_t(!0))}))}function jt(){w.value===!1&&X.value!==null&&X.value.updatePosition()}function Lt(n){n!==void 0&&tt(n),u("popupShow",n),c.hasPopupOpen=!0,c.onControlFocusin(n)}function $t(n){n!==void 0&&tt(n),u("popupHide",n),c.hasPopupOpen=!1,c.onControlFocusout(n)}function Nt(){p=f.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||U.value===!1:!0),he=f.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return Un(Nt),Xn(jt),Nt(),Pt(()=>{g!==null&&clearTimeout(g),_!==null&&clearTimeout(_)}),Object.assign(d,{showPopup:O,hidePopup:z,removeAtIndex:Qe,add:it,toggleOption:Ve,getOptionIndex:()=>i.value,setOptionIndex:Ie,moveOptionSelection:Ke,filter:pe,updateMenuPosition:jt,updateInputValue:Ue,isOptionSelected:Ze,getEmittingOptionValue:vt,isOptionDisabled:(...n)=>Oe.value.apply(null,n)===!0,getOptionValue:(...n)=>we.value.apply(null,n),getOptionLabel:(...n)=>fe.value.apply(null,n)}),Object.assign(c,{innerValue:M,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:R,targetRef:W,hasValue:K,showPopup:O,floatingLabel:S(()=>e.hideSelected!==!0&&K.value===!0||typeof v.value=="number"||v.value.length!==0||Kt(e.displayValue)),getControlChild:()=>{if(c.editable.value!==!1&&(w.value===!0||U.value!==!0||l["no-option"]!==void 0))return p===!0?r():Ct();c.hasPopupOpen===!0&&(c.hasPopupOpen=!1)},controlEvents:{onFocusin(n){c.onControlFocusin(n)},onFocusout(n){c.onControlFocusout(n,()=>{xe(),V()})},onClick(n){if(Ot(n),p!==!0&&o.value===!0){V(),W.value?.focus();return}O(n)}},getControl:n=>{const x=St(),C=n===!0||w.value!==!0||p!==!0;if(e.useInput===!0)x.push(ct(n,C));else if(c.editable.value===!0){const Q=C===!0?Ae.value:void 0;x.push(h("input",{ref:C===!0?W:void 0,key:"d_t",class:"q-select__focus-target",id:C===!0?c.targetUid.value:void 0,value:te.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...Q,onKeydown:Ye,onKeyup:gt,onKeypress:He})),C===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&x.push(h("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:yt}))}if(se.value!==void 0&&e.disable!==!0&&Ne.value.length!==0){const Q=Ne.value.map(L=>h("option",{value:L,selected:!0}));x.push(h("select",{class:"hidden",name:se.value,multiple:e.multiple},Q))}const B=e.useInput===!0||C!==!0?void 0:c.splitAttrs.attributes.value;return h("div",{class:"q-field__native row items-center",...B,...c.splitAttrs.listeners.value},x)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[h(Jn,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Le.value})]:null}),rn(c)}});function Ca(){let e=Object.create(null);return{getCache:(l,u)=>e[l]===void 0?e[l]=typeof u=="function"?u():u:e[l],setCache(l,u){e[l]=u},hasCache(l){return Object.hasOwnProperty.call(e,l)},clearCache(l){l!==void 0?delete e[l]:e=Object.create(null)}}}const je=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Va(e,l,u){return Object.prototype.toString.call(e)==="[object Date]"&&(u=e.getDate(),l=e.getMonth()+1,e=e.getFullYear()),Oa(Rt(e,l,u))}function tn(e,l,u){return Dn(qa(e,l,u))}function ka(e){return _a(e)===0}function wt(e,l){return l<=6?31:l<=11||ka(e)?30:29}function _a(e){const l=je.length;let u=je[0],d,f,o,w,i;if(e<u||e>=je[l-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<l&&(d=je[i],f=d-u,!(e<d));i+=1)u=d;return w=e-u,f-w<6&&(w=w-f+Z(f+4,33)*33),o=Me(Me(w+1,33)-1,4),o===-1&&(o=4),o}function Mn(e,l){const u=je.length,d=e+621;let f=-14,o=je[0],w,i,v,q,s;if(e<o||e>=je[u-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<u&&(w=je[s],i=w-o,!(e<w));s+=1)f=f+Z(i,33)*8+Z(Me(i,33),4),o=w;q=e-o,f=f+Z(q,33)*8+Z(Me(q,33)+3,4),Me(i,33)===4&&i-q===4&&(f+=1);const g=Z(d,4)-Z((Z(d,100)+1)*3,4)-150,_=20+f-g;return l||(i-q<6&&(q=q-i+Z(i+4,33)*33),v=Me(Me(q+1,33)-1,4),v===-1&&(v=4)),{leap:v,gy:d,march:_}}function qa(e,l,u){const d=Mn(e,!0);return Rt(d.gy,3,d.march)+(l-1)*31-Z(l,7)*(l-7)+u-1}function Oa(e){const l=Dn(e).gy;let u=l-621,d,f,o;const w=Mn(u,!1),i=Rt(l,3,w.march);if(o=e-i,o>=0){if(o<=185)return f=1+Z(o,31),d=Me(o,31)+1,{jy:u,jm:f,jd:d};o-=186}else u-=1,o+=179,w.leap===1&&(o+=1);return f=7+Z(o,30),d=Me(o,30)+1,{jy:u,jm:f,jd:d}}function Rt(e,l,u){let d=Z((e+Z(l-8,6)+100100)*1461,4)+Z(153*Me(l+9,12)+2,5)+u-34840408;return d=d-Z(Z(e+100100+Z(l-8,6),100)*3,4)+752,d}function Dn(e){let l=4*e+139361631;l=l+Z(Z(4*e+183187720,146097)*3,4)*4-3908;const u=Z(Me(l,1461),4)*5+308,d=Z(Me(u,153),5)+1,f=Me(Z(u,153),12)+1;return{gy:Z(l,1461)-100100+Z(8-f,6),gm:f,gd:d}}function Z(e,l){return~~(e/l)}function Me(e,l){return e-~~(e/l)*l}const Ha=["gregorian","persian"],nn={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ha.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},pa=["update:modelValue"];function Pe(e){return e.year+"/"+$(e.month)+"/"+$(e.day)}function Aa(e,l){const u=S(()=>e.disable!==!0&&e.readonly!==!0),d=S(()=>u.value===!0?0:-1),f=S(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function o(){return e.locale!==void 0?{...l.lang.date,...e.locale}:l.lang.date}function w(i){const v=new Date,q=i===!0?null:0;if(e.calendar==="persian"){const s=Va(v);return{year:s.jy,month:s.jm,day:s.jd}}return{year:v.getFullYear(),month:v.getMonth()+1,day:v.getDate(),hour:q,minute:q,second:q,millisecond:q}}return{editable:u,tabindex:d,headerClass:f,getLocale:o,getCurrentDate:w}}const xn=864e5,Ia=36e5,Ft=6e4,Cn="YYYY-MM-DDTHH:mm:ss.SSSZ",Ya=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ta=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,At={};function Fa(e,l){const u="("+l.days.join("|")+")",d=e+u;if(At[d]!==void 0)return At[d];const f="("+l.daysShort.join("|")+")",o="("+l.months.join("|")+")",w="("+l.monthsShort.join("|")+")",i={};let v=0;const q=e.replace(Ta,g=>{switch(v++,g){case"YY":return i.YY=v,"(-?\\d{1,2})";case"YYYY":return i.YYYY=v,"(-?\\d{1,4})";case"M":return i.M=v,"(\\d{1,2})";case"Mo":return i.M=v++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return i.M=v,"(\\d{2})";case"MMM":return i.MMM=v,w;case"MMMM":return i.MMMM=v,o;case"D":return i.D=v,"(\\d{1,2})";case"Do":return i.D=v++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=v,"(\\d{2})";case"H":return i.H=v,"(\\d{1,2})";case"HH":return i.H=v,"(\\d{2})";case"h":return i.h=v,"(\\d{1,2})";case"hh":return i.h=v,"(\\d{2})";case"m":return i.m=v,"(\\d{1,2})";case"mm":return i.m=v,"(\\d{2})";case"s":return i.s=v,"(\\d{1,2})";case"ss":return i.s=v,"(\\d{2})";case"S":return i.S=v,"(\\d{1})";case"SS":return i.S=v,"(\\d{2})";case"SSS":return i.S=v,"(\\d{3})";case"A":return i.A=v,"(AM|PM)";case"a":return i.a=v,"(am|pm)";case"aa":return i.aa=v,"(a\\.m\\.|p\\.m\\.)";case"ddd":return f;case"dddd":return u;case"Q":case"d":case"E":return"(\\d{1})";case"do":return v++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return v++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return v++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return i.Z=v,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=v,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=v,"(-?\\d+)";case"x":return i.x=v,"(-?\\d{4,})";default:return v--,g[0]==="["&&(g=g.substring(1,g.length-1)),g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),s={map:i,regex:new RegExp("^"+q)};return At[d]=s,s}function Vn(e,l){return e!==void 0?e:l!==void 0?l.date:ta.date}function an(e,l=""){const u=e>0?"-":"+",d=Math.abs(e),f=Math.floor(d/60),o=d%60;return u+$(f)+l+$(o)}function Ea(e,l,u,d,f){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(f!==void 0&&Object.assign(o,f),e==null||e===""||typeof e!="string")return o;l===void 0&&(l=Cn);const w=Vn(u,hn.props),i=w.months,v=w.monthsShort,{regex:q,map:s}=Fa(l,w),g=e.match(q);if(g===null)return o;let _="";if(s.X!==void 0||s.x!==void 0){const k=parseInt(g[s.X!==void 0?s.X:s.x],10);if(isNaN(k)===!0||k<0)return o;const p=new Date(k*(s.X!==void 0?1e3:1));o.year=p.getFullYear(),o.month=p.getMonth()+1,o.day=p.getDate(),o.hour=p.getHours(),o.minute=p.getMinutes(),o.second=p.getSeconds(),o.millisecond=p.getMilliseconds()}else{if(s.YYYY!==void 0)o.year=parseInt(g[s.YYYY],10);else if(s.YY!==void 0){const k=parseInt(g[s.YY],10);o.year=k<0?k:2e3+k}if(s.M!==void 0){if(o.month=parseInt(g[s.M],10),o.month<1||o.month>12)return o}else s.MMM!==void 0?o.month=v.indexOf(g[s.MMM])+1:s.MMMM!==void 0&&(o.month=i.indexOf(g[s.MMMM])+1);if(s.D!==void 0){if(o.day=parseInt(g[s.D],10),o.year===null||o.month===null||o.day<1)return o;const k=d!=="persian"?new Date(o.year,o.month,0).getDate():wt(o.year,o.month);if(o.day>k)return o}s.H!==void 0?o.hour=parseInt(g[s.H],10)%24:s.h!==void 0&&(o.hour=parseInt(g[s.h],10)%12,(s.A&&g[s.A]==="PM"||s.a&&g[s.a]==="pm"||s.aa&&g[s.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),s.m!==void 0&&(o.minute=parseInt(g[s.m],10)%60),s.s!==void 0&&(o.second=parseInt(g[s.s],10)%60),s.S!==void 0&&(o.millisecond=parseInt(g[s.S],10)*10**(3-g[s.S].length)),(s.Z!==void 0||s.ZZ!==void 0)&&(_=s.Z!==void 0?g[s.Z].replace(":",""):g[s.ZZ],o.timezoneOffset=(_[0]==="+"?-1:1)*(60*_.slice(1,3)+1*_.slice(3,5)))}return o.dateHash=$(o.year,6)+"/"+$(o.month)+"/"+$(o.day),o.timeHash=$(o.hour)+":"+$(o.minute)+":"+$(o.second)+_,o}function It(e){const l=new Date(e.getFullYear(),e.getMonth(),e.getDate());l.setDate(l.getDate()-(l.getDay()+6)%7+3);const u=new Date(l.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);const d=l.getTimezoneOffset()-u.getTimezoneOffset();l.setHours(l.getHours()-d);const f=(l-u)/(xn*7);return 1+Math.floor(f)}function Be(e,l,u){const d=new Date(e),f=`set${u===!0?"UTC":""}`;switch(l){case"year":case"years":d[`${f}Month`](0);case"month":case"months":d[`${f}Date`](1);case"day":case"days":case"date":d[`${f}Hours`](0);case"hour":case"hours":d[`${f}Minutes`](0);case"minute":case"minutes":d[`${f}Seconds`](0);case"second":case"seconds":d[`${f}Milliseconds`](0)}return d}function bt(e,l,u){return(e.getTime()-e.getTimezoneOffset()*Ft-(l.getTime()-l.getTimezoneOffset()*Ft))/u}function kn(e,l,u="days"){const d=new Date(e),f=new Date(l);switch(u){case"years":case"year":return d.getFullYear()-f.getFullYear();case"months":case"month":return(d.getFullYear()-f.getFullYear())*12+d.getMonth()-f.getMonth();case"days":case"day":case"date":return bt(Be(d,"day"),Be(f,"day"),xn);case"hours":case"hour":return bt(Be(d,"hour"),Be(f,"hour"),Ia);case"minutes":case"minute":return bt(Be(d,"minute"),Be(f,"minute"),Ft);case"seconds":case"second":return bt(Be(d,"second"),Be(f,"second"),1e3)}}function Yt(e){return kn(e,Be(e,"year"),"days")+1}function nt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ln={YY(e,l,u){const d=this.YYYY(e,l,u)%100;return d>=0?$(d):"-"+$(Math.abs(d))},YYYY(e,l,u){return u??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return nt(e.getMonth()+1)},MM(e){return $(e.getMonth()+1)},MMM(e,l){return l.monthsShort[e.getMonth()]},MMMM(e,l){return l.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return nt(this.Q(e))},D(e){return e.getDate()},Do(e){return nt(e.getDate())},DD(e){return $(e.getDate())},DDD(e){return Yt(e)},DDDo(e){return nt(Yt(e))},DDDD(e){return $(Yt(e),3)},d(e){return e.getDay()},do(e){return nt(e.getDay())},dd(e,l){return l.days[e.getDay()].slice(0,2)},ddd(e,l){return l.daysShort[e.getDay()]},dddd(e,l){return l.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return It(e)},wo(e){return nt(It(e))},ww(e){return $(It(e))},H(e){return e.getHours()},HH(e){return $(e.getHours())},h(e){const l=e.getHours();return l===0?12:l>12?l%12:l},hh(e){return $(this.h(e))},m(e){return e.getMinutes()},mm(e){return $(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return $(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return $(Math.floor(e.getMilliseconds()/10))},SSS(e){return $(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,l,u,d){const f=d??e.getTimezoneOffset();return an(f,":")},ZZ(e,l,u,d){const f=d??e.getTimezoneOffset();return an(f)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ba(e,l,u,d,f){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;l===void 0&&(l=Cn);const w=Vn(u,hn.props);return l.replace(Ya,(i,v)=>i in ln?ln[i](o,w,d,f):v===void 0?i:v.split("\\]").join("]"))}const Ee=20,za=["Calendar","Years","Months"],on=e=>za.includes(e),Tt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),at=" — ";function Re(e){return e.year+"/"+$(e.month)}const Na=Xe({name:"QDate",props:{...nn,...vn,...Bt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...nn.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Tt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Tt},navigationMaxYearMonth:{type:String,validator:Tt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:on}},emits:[...pa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:l,emit:u}){const{proxy:d}=Je(),{$q:f}=d,o=zt(e,f),{getCache:w}=Ca(),{tabindex:i,headerClass:v,getLocale:q,getCurrentDate:s}=Aa(e,f);let g;const _=na(e),k=la(_),p=P(null),Y=P(it()),H=P(q()),ne=S(()=>it()),he=S(()=>q()),I=S(()=>s()),m=P(Ie(Y.value,H.value)),R=P(e.defaultView),W=S(()=>f.lang.rtl===!0?"right":"left"),X=P(W.value),ge=P(W.value),De=m.value.year,se=P(De-De%Ee-(De<0?Ee:0)),J=P(null),ae=S(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),le=S(()=>e.color||"primary"),ve=S(()=>e.textColor||"white"),ye=S(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ie=S(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),oe=S(()=>ie.value.filter(t=>typeof t=="string").map(t=>Ve(t,Y.value,H.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ce=S(()=>{const t=a=>Ve(a,Y.value,H.value);return ie.value.filter(a=>aa(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),de=S(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=tn(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Ce=S(()=>e.calendar==="persian"?Pe:(t,a,r)=>Ba(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?Y.value:a,r===void 0?H.value:r,t.year,t.timezoneOffset)),c=S(()=>oe.value.length+ce.value.reduce((t,a)=>t+1+kn(de.value(a.to),de.value(a.from)),0)),M=S(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(J.value!==null){const r=J.value.init,b=de.value(r);return H.value.daysShort[b.getDay()]+", "+H.value.monthsShort[r.month-1]+" "+r.day+at+"?"}if(c.value===0)return at;if(c.value>1)return`${c.value} ${H.value.pluralDay}`;const t=oe.value[0],a=de.value(t);return isNaN(a.valueOf())===!0?at:H.value.headerTitle!==void 0?H.value.headerTitle(a,t):H.value.daysShort[a.getDay()]+", "+H.value.monthsShort[t.month-1]+" "+t.day}),T=S(()=>oe.value.concat(ce.value.map(a=>a.from)).sort((a,r)=>a.year-r.year||a.month-r.month)[0]),j=S(()=>oe.value.concat(ce.value.map(a=>a.to)).sort((a,r)=>r.year-a.year||r.month-a.month)[0]),K=S(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(c.value===0)return at;if(c.value>1){const t=T.value,a=j.value,r=H.value.monthsShort;return r[t.month-1]+(t.year!==a.year?" "+t.year+at+r[a.month-1]+" ":t.month!==a.month?at+r[a.month-1]:"")+" "+a.year}return oe.value[0].year}),F=S(()=>{const t=[f.iconSet.datetime.arrowLeft,f.iconSet.datetime.arrowRight];return f.lang.rtl===!0?t.reverse():t}),A=S(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):H.value.firstDayOfWeek),U=S(()=>{const t=H.value.daysShort,a=A.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),y=S(()=>{const t=m.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():wt(t.year,t.month)}),te=S(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),N=S(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),G=S(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Se=S(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return N.value!==null&&N.value.year>=m.value.year&&(t.year.prev=!1,N.value.year===m.value.year&&N.value.month>=m.value.month&&(t.month.prev=!1)),G.value!==null&&G.value.year<=m.value.year&&(t.year.next=!1,G.value.year===m.value.year&&G.value.month<=m.value.month&&(t.month.next=!1)),t}),Ae=S(()=>{const t={};return oe.value.forEach(a=>{const r=Re(a);t[r]===void 0&&(t[r]=[]),t[r].push(a.day)}),t}),qe=S(()=>{const t={};return ce.value.forEach(a=>{const r=Re(a.from),b=Re(a.to);if(t[r]===void 0&&(t[r]=[]),t[r].push({from:a.from.day,to:r===b?a.to.day:void 0,range:a}),r<b){let D;const{year:E,month:V}=a.from,O=V<12?{year:E,month:V+1}:{year:E+1,month:1};for(;(D=Re(O))<=b;)t[D]===void 0&&(t[D]=[]),t[D].push({from:void 0,to:D===b?a.to.day:void 0,range:a}),O.month++,O.month>12&&(O.year++,O.month=1)}}),t}),be=S(()=>{if(J.value===null)return;const{init:t,initHash:a,final:r,finalHash:b}=J.value,[D,E]=a<=b?[t,r]:[r,t],V=Re(D),O=Re(E);if(V!==ue.value&&O!==ue.value)return;const z={};return V===ue.value?(z.from=D.day,z.includeFrom=!0):z.from=1,O===ue.value?(z.to=E.day,z.includeTo=!0):z.to=y.value,z}),ue=S(()=>Re(m.value)),Le=S(()=>{const t={};if(e.options===void 0){for(let r=1;r<=y.value;r++)t[r]=!0;return t}const a=typeof e.options=="function"?e.options:r=>e.options.includes(r);for(let r=1;r<=y.value;r++){const b=ue.value+"/"+$(r);t[r]=a(b)}return t}),rt=S(()=>{const t={};if(e.events===void 0)for(let a=1;a<=y.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:r=>e.events.includes(r);for(let r=1;r<=y.value;r++){const b=ue.value+"/"+$(r);t[r]=a(b)===!0&&te.value(b)}}return t}),$e=S(()=>{let t,a;const{year:r,month:b}=m.value;if(e.calendar!=="persian")t=new Date(r,b-1,1),a=new Date(r,b-1,0).getDate();else{const D=tn(r,b,1);t=new Date(D.gy,D.gm-1,D.gd);let E=b-1,V=r;E===0&&(E=12,V--),a=wt(V,E)}return{days:t.getDay()-A.value-1,endDay:a}}),we=S(()=>{const t=[],{days:a,endDay:r}=$e.value,b=a<0?a+7:a;if(b<6)for(let V=r-b;V<=r;V++)t.push({i:V,fill:!0});const D=t.length;for(let V=1;V<=y.value;V++){const O={i:V,event:rt.value[V],classes:[]};Le.value[V]===!0&&(O.in=!0,O.flat=!0),t.push(O)}if(Ae.value[ue.value]!==void 0&&Ae.value[ue.value].forEach(V=>{const O=D+V-1;Object.assign(t[O],{selected:!0,unelevated:!0,flat:!1,color:le.value,textColor:ve.value})}),qe.value[ue.value]!==void 0&&qe.value[ue.value].forEach(V=>{if(V.from!==void 0){const O=D+V.from-1,z=D+(V.to||y.value)-1;for(let xe=O;xe<=z;xe++)Object.assign(t[xe],{range:V.range,unelevated:!0,color:le.value,textColor:ve.value});Object.assign(t[O],{rangeFrom:!0,flat:!1}),V.to!==void 0&&Object.assign(t[z],{rangeTo:!0,flat:!1})}else if(V.to!==void 0){const O=D+V.to-1;for(let z=D;z<=O;z++)Object.assign(t[z],{range:V.range,unelevated:!0,color:le.value,textColor:ve.value});Object.assign(t[O],{flat:!1,rangeTo:!0})}else{const O=D+y.value-1;for(let z=D;z<=O;z++)Object.assign(t[z],{range:V.range,unelevated:!0,color:le.value,textColor:ve.value})}}),be.value!==void 0){const V=D+be.value.from-1,O=D+be.value.to-1;for(let z=V;z<=O;z++)t[z].color=le.value,t[z].editRange=!0;be.value.includeFrom===!0&&(t[V].editRangeFrom=!0),be.value.includeTo===!0&&(t[O].editRangeTo=!0)}m.value.year===I.value.year&&m.value.month===I.value.month&&(t[D+I.value.day-1].today=!0);const E=t.length%7;if(E>0){const V=7-E;for(let O=1;O<=V;O++)t.push({i:O,fill:!0})}return t.forEach(V=>{let O="q-date__calendar-item ";V.fill===!0?O+="q-date__calendar-item--fill":(O+=`q-date__calendar-item--${V.in===!0?"in":"out"}`,V.range!==void 0&&(O+=` q-date__range${V.rangeTo===!0?"-to":V.rangeFrom===!0?"-from":""}`),V.editRange===!0&&(O+=` q-date__edit-range${V.editRangeFrom===!0?"-from":""}${V.editRangeTo===!0?"-to":""}`),(V.range!==void 0||V.editRange===!0)&&(O+=` text-${V.color}`)),V.classes=O}),t}),fe=S(()=>e.disable===!0?{"aria-disabled":"true"}:{});me(()=>e.modelValue,t=>{if(g===JSON.stringify(t))g=0;else{const a=Ie(Y.value,H.value);Ye(a.year,a.month,a)}}),me(R,()=>{p.value!==null&&d.$el.contains(document.activeElement)===!0&&p.value.focus()}),me(()=>m.value.year+"|"+m.value.month,()=>{u("navigation",{year:m.value.year,month:m.value.month})}),me(ne,t=>{We(t,H.value,"mask"),Y.value=t}),me(he,t=>{We(Y.value,t,"locale"),H.value=t});function Oe(t){g=JSON.stringify(t)}function Ne(){const{year:t,month:a,day:r}=I.value,b={...m.value,year:t,month:a,day:r},D=Ae.value[Re(b)];(D===void 0||D.includes(b.day)===!1)&&ct(b),Qe(b.year,b.month)}function Dt(t){on(t)===!0&&(R.value=t)}function vt(t,a){["month","year"].includes(t)&&(t==="month"?mt:Ze)(a===!0?-1:1)}function Qe(t,a){R.value="Calendar",Ye(t,a)}function xt(t,a){if(e.range===!1||!t){J.value=null;return}const r=Object.assign({...m.value},t),b=a!==void 0?Object.assign({...m.value},a):r;J.value={init:r,initHash:Pe(r),final:b,finalHash:Pe(b)},Qe(r.year,r.month)}function it(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ve(t,a,r){return Ea(t,a,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ie(t,a){const r=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(r.length===0)return Ke();const b=r[r.length-1],D=Ve(b.from!==void 0?b.from:b,t,a);return D.dateHash===null?Ke():D}function Ke(){let t,a;if(e.defaultYearMonth!==void 0){const r=e.defaultYearMonth.split("/");t=parseInt(r[0],10),a=parseInt(r[1],10)}else{const r=I.value!==void 0?I.value:s();t=r.year,a=r.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+$(a)+"/01"}}function mt(t){let a=m.value.year,r=Number(m.value.month)+t;r===13?(r=1,a++):r===0&&(r=12,a--),Ye(a,r),ye.value===!0&&Ge("month")}function Ze(t){const a=Number(m.value.year)+t;Ye(a,m.value.month),ye.value===!0&&Ge("year")}function ht(t){Ye(t,m.value.month),R.value=e.defaultView==="Years"?"Months":"Calendar",ye.value===!0&&Ge("year")}function gt(t){Ye(m.value.year,t),R.value="Calendar",ye.value===!0&&Ge("month")}function yt(t,a){(Ae.value[a]?.includes(t.day)===!0?et:ct)(t)}function He(t){return{year:t.year,month:t.month,day:t.day}}function Ye(t,a,r){if(N.value!==null&&t<=N.value.year&&((a<N.value.month||t<N.value.year)&&(a=N.value.month),t=N.value.year),G.value!==null&&t>=G.value.year&&((a>G.value.month||t>G.value.year)&&(a=G.value.month),t=G.value.year),r!==void 0){const{hour:D,minute:E,second:V,millisecond:O,timezoneOffset:z,timeHash:xe}=r;Object.assign(m.value,{hour:D,minute:E,second:V,millisecond:O,timezoneOffset:z,timeHash:xe})}const b=t+"/"+$(a)+"/01";b!==m.value.dateHash&&(X.value=m.value.dateHash<b==(f.lang.rtl!==!0)?"left":"right",t!==m.value.year&&(ge.value=X.value),ke(()=>{se.value=t-t%Ee-(t<0?Ee:0),Object.assign(m.value,{year:t,month:a,day:1,dateHash:b})}))}function st(t,a,r){const b=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:D,details:E}=St(a,r);Oe(b),u("update:modelValue",b,D,E)}function Ge(t){const a=oe.value[0]!==void 0&&oe.value[0].dateHash!==null?{...oe.value[0]}:{...m.value};ke(()=>{a.year=m.value.year,a.month=m.value.month;const r=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():wt(a.year,a.month);a.day=Math.min(Math.max(1,a.day),r);const b=Te(a),{details:D}=St("",a);Oe(b),u("update:modelValue",b,t,D)})}function St(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...He(a.target),from:He(a.from),to:He(a.to)}}:{reason:`${t}-day`,details:He(a)}}function Te(t,a,r){return t.from!==void 0?{from:Ce.value(t.from,a,r),to:Ce.value(t.to,a,r)}:Ce.value(t,a,r)}function ct(t){let a;if(e.multiple===!0)if(t.from!==void 0){const r=Pe(t.from),b=Pe(t.to),D=oe.value.filter(V=>V.dateHash<r||V.dateHash>b),E=ce.value.filter(({from:V,to:O})=>O.dateHash<r||V.dateHash>b);a=D.concat(E).concat(t).map(V=>Te(V))}else{const r=ie.value.slice();r.push(Te(t)),a=r}else a=Te(t);st(a,"add",t)}function et(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const r=Te(t);t.from!==void 0?a=e.modelValue.filter(b=>b.from!==void 0?b.from!==r.from&&b.to!==r.to:!0):a=e.modelValue.filter(b=>b!==r),a.length===0&&(a=null)}st(a,"remove",t)}function We(t,a,r){const b=oe.value.concat(ce.value).map(E=>Te(E,t,a)).filter(E=>E.from!==void 0?E.from.dateHash!==null&&E.to.dateHash!==null:E.dateHash!==null),D=(e.multiple===!0?b:b[0])||null;Oe(D),u("update:modelValue",D,r)}function Ue(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+v.value},[h("div",{class:"relative-position"},[h(lt,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+K.value,class:"q-date__header-subtitle q-date__header-link "+(R.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...w("vY",{onClick(){R.value="Years"},onKeyup(t){t.keyCode===13&&(R.value="Years")}})},[K.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(lt,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+M.value,class:"q-date__header-title-label q-date__header-link "+(R.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...w("vC",{onClick(){R.value="Calendar"},onKeyup(t){t.keyCode===13&&(R.value="Calendar")}})},[M.value]))]),e.todayBtn===!0?h(Fe,{class:"q-date__header-today self-start",icon:f.iconSet.datetime.today,ariaLabel:f.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:Ne}):null])])}function pe({label:t,type:a,key:r,dir:b,goTo:D,boundaries:E,cls:V}){return[h("div",{class:"row items-center q-date__arrow"},[h(Fe,{round:!0,dense:!0,size:"sm",flat:!0,icon:F.value[0],ariaLabel:a==="Years"?f.lang.date.prevYear:f.lang.date.prevMonth,tabindex:i.value,disable:E.prev===!1,...w("go-#"+a,{onClick(){D(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+V},[h(lt,{name:"q-transition--jump-"+b},()=>h("div",{key:r},[h(Fe,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...w("view#"+a,{onClick:()=>{R.value=a}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(Fe,{round:!0,dense:!0,size:"sm",flat:!0,icon:F.value[1],ariaLabel:a==="Years"?f.lang.date.nextYear:f.lang.date.nextMonth,tabindex:i.value,disable:E.next===!1,...w("go+#"+a,{onClick(){D(1)}})})])]}const Ct={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},pe({label:H.value.months[m.value.month-1],type:"Months",key:m.value.month,dir:X.value,goTo:mt,boundaries:Se.value.month,cls:" col"}).concat(pe({label:m.value.year,type:"Years",key:m.value.year,dir:ge.value,goTo:Ze,boundaries:Se.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},U.value.map(t=>h("div",{class:"q-date__calendar-item"},[h("div",t)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(lt,{name:"q-transition--slide-"+X.value},()=>h("div",{key:ue.value,class:"q-date__calendar-days fit"},we.value.map(t=>h("div",{class:t.classes},[t.in===!0?h(Fe,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...w("day#"+t.i,{onClick:()=>{Vt(t.i)},onMouseover:()=>{kt(t.i)}})},t.event!==!1?()=>h("div",{class:"q-date__event bg-"+t.event}):null):h("div",""+t.i)]))))])])],Months(){const t=m.value.year===I.value.year,a=b=>N.value!==null&&m.value.year===N.value.year&&N.value.month>b||G.value!==null&&m.value.year===G.value.year&&G.value.month<b,r=H.value.monthsShort.map((b,D)=>{const E=m.value.month===D+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(Fe,{class:t===!0&&I.value.month===D+1?"q-date__today":null,flat:E!==!0,label:b,unelevated:E,color:E===!0?le.value:null,textColor:E===!0?ve.value:null,tabindex:i.value,disable:a(D+1),...w("month#"+D,{onClick:()=>{gt(D+1)}})})])});return e.yearsInMonthView===!0&&r.unshift(h("div",{class:"row no-wrap full-width"},[pe({label:m.value.year,type:"Years",key:m.value.year,dir:ge.value,goTo:Ze,boundaries:Se.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},r)},Years(){const t=se.value,a=t+Ee,r=[],b=D=>N.value!==null&&N.value.year>D||G.value!==null&&G.value.year<D;for(let D=t;D<=a;D++){const E=m.value.year===D;r.push(h("div",{class:"q-date__years-item flex flex-center"},[h(Fe,{key:"yr"+D,class:I.value.year===D?"q-date__today":null,flat:!E,label:D,dense:!0,unelevated:E,color:E===!0?le.value:null,textColor:E===!0?ve.value:null,tabindex:i.value,disable:b(D),...w("yr#"+D,{onClick:()=>{ht(D)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(Fe,{round:!0,dense:!0,flat:!0,icon:F.value[0],ariaLabel:f.lang.date.prevRangeYears(Ee),tabindex:i.value,disable:b(t),...w("y-",{onClick:()=>{se.value-=Ee}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},r),h("div",{class:"col-auto"},[h(Fe,{round:!0,dense:!0,flat:!0,icon:F.value[1],ariaLabel:f.lang.date.nextRangeYears(Ee),tabindex:i.value,disable:b(a),...w("y+",{onClick:()=>{se.value+=Ee}})})])])}};function Vt(t){const a={...m.value,day:t};if(e.range===!1){yt(a,ue.value);return}if(J.value===null){const r=we.value.find(D=>D.fill!==!0&&D.i===t);if(e.noUnset!==!0&&r.range!==void 0){et({target:a,from:r.range.from,to:r.range.to});return}if(r.selected===!0){et(a);return}const b=Pe(a);J.value={init:a,initHash:b,final:a,finalHash:b},u("rangeStart",He(a))}else{const r=J.value.initHash,b=Pe(a),D=r<=b?{from:J.value.init,to:a}:{from:a,to:J.value.init};J.value=null,ct(r===b?a:{target:a,...D}),u("rangeEnd",{from:He(D.from),to:He(D.to)})}}function kt(t){if(J.value!==null){const a={...m.value,day:t};Object.assign(J.value,{final:a,finalHash:Pe(a)})}}return Object.assign(d,{setToday:Ne,setView:Dt,offsetCalendar:vt,setCalendarTo:Qe,setEditingRange:xt}),()=>{const t=[h("div",{class:"q-date__content col relative-position"},[h(lt,{name:"q-transition--fade"},Ct[R.value])])],a=ot(l.default);return a!==void 0&&t.push(h("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&k(t,"push"),h("div",{class:ae.value,...fe.value},[Ue(),h("div",{ref:p,class:"q-date__main col column",tabindex:-1},t)])}}}),Qa=Xe({name:"QPopupProxy",props:{...gn,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:l,emit:u,attrs:d}){const{proxy:f}=Je(),{$q:o}=f,w=P(!1),i=P(null),v=S(()=>parseInt(e.breakpoint,10)),{canShow:q}=yn({showing:w});function s(){return o.screen.width<v.value||o.screen.height<v.value?"dialog":"menu"}const g=P(s()),_=S(()=>g.value==="menu"?{maxHeight:"99vh"}:{});me(()=>s(),Y=>{w.value!==!0&&(g.value=Y)});function k(Y){w.value=!0,u("show",Y)}function p(Y){w.value=!1,g.value=s(),u("hide",Y)}return Object.assign(f,{show(Y){q(Y)===!0&&i.value.show(Y)},hide(Y){i.value.hide(Y)},toggle(Y){i.value.toggle(Y)}}),oa(f,"currentComponent",()=>({type:g.value,ref:i.value})),()=>{const Y={ref:i,..._.value,...d,onShow:k,onHide:p};let H;return g.value==="dialog"?H=mn:(H=Sn,Object.assign(Y,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),h(H,Y,l.default)}}}),Ka=Xe({name:"QBanner",props:{...Bt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:l}){const{proxy:{$q:u}}=Je(),d=zt(e,u),f=S(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(d.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),o=S(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const w=[h("div",{class:"q-banner__avatar col-auto row items-center self-start"},ot(l.avatar)),h("div",{class:"q-banner__content col text-body2"},ot(l.default))],i=ot(l.action);return i!==void 0&&w.push(h("div",{class:o.value},i)),h("div",{class:f.value+(e.inlineActions===!1&&i!==void 0?" q-banner--top-padding":""),role:"alert"},w)}}}),Za=Xe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:l,emit:u}){const d=Je(),f=P(null);let o=0;const w=[];function i(k){const p=typeof k=="boolean"?k:e.noErrorFocus!==!0,Y=++o,H=(I,m)=>{u(`validation${I===!0?"Success":"Error"}`,m)},ne=I=>{const m=I.validate();return typeof m.then=="function"?m.then(R=>({valid:R,comp:I}),R=>({valid:!1,comp:I,err:R})):Promise.resolve({valid:m,comp:I})};return(e.greedy===!0?Promise.all(w.map(ne)).then(I=>I.filter(m=>m.valid!==!0)):w.reduce((I,m)=>I.then(()=>ne(m).then(R=>{if(R.valid===!1)return Promise.reject(R)})),Promise.resolve()).catch(I=>[I])).then(I=>{if(I===void 0||I.length===0)return Y===o&&H(!0),!0;if(Y===o){const{comp:m,err:R}=I[0];if(R!==void 0&&console.error(R),H(!1,m),p===!0){const W=I.find(({comp:X})=>typeof X.focus=="function"&&ra(X.$)===!1);W!==void 0&&W.comp.focus()}}return!1})}function v(){o++,w.forEach(k=>{typeof k.resetValidation=="function"&&k.resetValidation()})}function q(k){k!==void 0&&ze(k);const p=o+1;i().then(Y=>{p===o&&Y===!0&&(e.onSubmit!==void 0?u("submit",k):k?.target!==void 0&&typeof k.target.submit=="function"&&k.target.submit())})}function s(k){k!==void 0&&ze(k),u("reset"),ke(()=>{v(),e.autofocus===!0&&e.noResetFocus!==!0&&g()})}function g(){cn(()=>{if(f.value===null)return;(f.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||f.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||f.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(f.value.querySelectorAll("[tabindex]"),p=>p.tabIndex!==-1))?.focus({preventScroll:!0})})}ia(sa,{bindComponent(k){w.push(k)},unbindComponent(k){const p=w.indexOf(k);p!==-1&&w.splice(p,1)}});let _=!1;return dn(()=>{_=!0}),fn(()=>{_===!0&&e.autofocus===!0&&g()}),ua(()=>{e.autofocus===!0&&g()}),Object.assign(d.proxy,{validate:i,resetValidation:v,submit:q,reset:s,focus:g,getValidationComponents:()=>w}),()=>h("form",{class:"q-form",ref:f,onSubmit:q,onReset:s},ot(l.default))}});export{$a as Q,Qa as a,Na as b,Ka as c,Za as d,Ma as e,La as f,Gt as u};
