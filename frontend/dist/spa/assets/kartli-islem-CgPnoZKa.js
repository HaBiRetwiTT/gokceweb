const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/quasar.client-CHiEHbXK.js","assets/index-B-uU-IwF.js","assets/index-BlOQS81-.css"])))=>i.map(i=>d[i]);
import{j as aa,k as M,l as B,m as wa,q as ya,a6 as rl,D as Vl,aa as qe,P as Ra,S as Ga,$ as Al,r as _,C as pe,a0 as Ll,y as Za,an as ul,p as Ca,ao as El,ap as Pl,s as dl,aq as Fl,ar as el,as as qa,at as al,au as $l,x as cl,av as Yl,ai as ra,aw as ha,i as ie,ak as ql,ax as Rl,ay as Gl,az as Hl,aA as zl,aB as Il,aC as Ul,E as jl,aD as Ql,aE as Wl,aF as Xl,d as ml,c as ge,o as W,a as s,am as ua,w as u,Q as Be,b as he,e as r,t as p,aj as Jl,g as ye,a8 as Me,f as ce,ab as x,ag as ll,a9 as Q,ac as Zl,al as ga,ae as Ea,aG as _a,aH as et,X as Pa,u as at,aI as tl}from"./index-B-uU-IwF.js";import{u as lt,e as tt,f as vl,Q as Ma,d as it,a as ot,b as nt,c as st}from"./QForm-BqX0CH5m.js";import{Q as Fa}from"./QChip-20dD3OR9.js";import{e as Ie,Q as Da,a as Ba,d as il,u as rt}from"./QItem-B76h26OC.js";import{Q as ut}from"./QList-Cvgv0my4.js";import{Q as dt}from"./QLinearProgress-DNF4PIfA.js";import{Q as ct}from"./QPage-C90HVCFa.js";import{api as J}from"./axios-D2lIpP-a.js";import{_ as fl}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=aa({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(t,{slots:k}){const f=ya(),m=M(()=>"q-td"+(t.autoWidth===!0?" q-table--col-auto-width":"")+(t.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(t.props===void 0)return B("td",{class:m.value},wa(k.default));const g=f.vnode.key,D=(t.props.colsMap!==void 0?t.props.colsMap[g]:null)||t.props.col;if(D===void 0)return;const{row:b}=t.props;return B("td",{class:m.value+D.__tdClass(b),style:D.__tdStyle(b)},wa(k.default))}}}),mt=["top","middle","bottom"],$a=aa({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>mt.includes(t)}},setup(t,{slots:k}){const f=M(()=>t.align!==void 0?{verticalAlign:t.align}:null),m=M(()=>{const g=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(g!==void 0?` text-${g}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>B("div",{class:m.value,style:f.value,role:"status","aria-label":t.label},rl(k.default,t.label!==void 0?[t.label]:[]))}}),vt=aa({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(t,{slots:k,emit:f}){const m=ya(),{proxy:{$q:g}}=m,D=b=>{f("click",b)};return()=>{if(t.props===void 0)return B("th",{class:t.autoWidth===!0?"q-table--col-auto-width":"",onClick:D},wa(k.default));let b,h;const w=m.vnode.key;if(w){if(b=t.props.colsMap[w],b===void 0)return}else b=t.props.col;if(b.sortable===!0){const y=b.align==="right"?"unshift":"push";h=Vl(k.default,[]),h[y](B(qe,{class:b.__iconClass,name:g.iconSet.table.arrowUp}))}else h=wa(k.default);const G={class:b.__thClass+(t.autoWidth===!0?" q-table--col-auto-width":""),style:b.headerStyle,onClick:y=>{b.sortable===!0&&t.props.sort(b),D(y)}};return B("th",G,h)}}}),ft=["horizontal","vertical","cell","none"],kt=aa({name:"QMarkupTable",props:{...Ra,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:t=>ft.includes(t)}},setup(t,{slots:k}){const f=ya(),m=Ga(t,f.proxy.$q),g=M(()=>`q-markup-table q-table__container q-table__card q-table--${t.separator}-separator`+(m.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(t.dense===!0?" q-table--dense":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")+(t.square===!0?" q-table--square":"")+(t.wrapCells===!1?" q-table--no-wrap":""));return()=>B("div",{class:g.value},[B("table",{class:"q-table"},wa(k.default))])}});function kl(t,k){return B("div",t,[B("table",{class:"q-table"},k)])}const gt={list:ut,table:kt},yt=["list","table","__qtable"],pt=aa({name:"QVirtualScroll",props:{...lt,type:{type:String,default:"list",validator:t=>yt.includes(t)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Al},setup(t,{slots:k,attrs:f}){let m;const g=_(null),D=M(()=>t.itemsSize>=0&&t.itemsFn!==void 0?parseInt(t.itemsSize,10):Array.isArray(t.items)?t.items.length:0),{virtualScrollSliceRange:b,localResetVirtualScroll:h,padVirtualScroll:w,onVirtualScrollEvt:G}=tt({virtualScrollLength:D,getVirtualScrollTarget:le,getVirtualScrollEl:F}),y=M(()=>{if(D.value===0)return[];const fe=(Ke,oe)=>({index:b.value.from+oe,item:Ke});return t.itemsFn===void 0?t.items.slice(b.value.from,b.value.to).map(fe):t.itemsFn(b.value.from,b.value.to-b.value.from).map(fe)}),H=M(()=>"q-virtual-scroll q-virtual-scroll"+(t.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(t.scrollTarget!==void 0?"":" scroll")),Y=M(()=>t.scrollTarget!==void 0?{}:{tabindex:0});pe(D,()=>{h()}),pe(()=>t.scrollTarget,()=>{z(),q()});function F(){return g.value.$el||g.value}function le(){return m}function q(){m=Ll(F(),t.scrollTarget),m.addEventListener("scroll",G,Za.passive)}function z(){m!==void 0&&(m.removeEventListener("scroll",G,Za.passive),m=void 0)}function ve(){let fe=w(t.type==="list"?"div":"tbody",y.value.map(k.default));return k.before!==void 0&&(fe=k.before().concat(fe)),rl(k.after,fe)}return ul(()=>{h()}),Ca(()=>{q()}),El(()=>{q()}),Pl(()=>{z()}),dl(()=>{z()}),()=>{if(k.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return t.type==="__qtable"?kl({ref:g,class:"q-table__middle "+H.value},ve()):B(gt[t.type],{...f,ref:g,class:[f.class,H.value],...Y.value},ve)}}});let Ta=0;const bt={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ht=["update:fullscreen","fullscreen"];function Tt(){const t=ya(),{props:k,emit:f,proxy:m}=t;let g,D,b;const h=_(!1);Fl(t)===!0&&pe(()=>m.$route.fullPath,()=>{k.noRouteFullscreenExit!==!0&&y()}),pe(()=>k.fullscreen,H=>{h.value!==H&&w()}),pe(h,H=>{f("update:fullscreen",H),f("fullscreen",H)});function w(){h.value===!0?y():G()}function G(){h.value!==!0&&(h.value=!0,b=m.$el.parentNode,b.replaceChild(D,m.$el),document.body.appendChild(m.$el),Ta++,Ta===1&&document.body.classList.add("q-body--fullscreen-mixin"),g={handler:y},el.add(g))}function y(){h.value===!0&&(g!==void 0&&(el.remove(g),g=void 0),b.replaceChild(m.$el,D),h.value=!1,Ta=Math.max(0,Ta-1),Ta===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),m.$el.scrollIntoView!==void 0&&setTimeout(()=>{m.$el.scrollIntoView()})))}return ul(()=>{D=document.createElement("span")}),Ca(()=>{k.fullscreen===!0&&G()}),dl(y),Object.assign(m,{toggleFullscreen:w,setFullscreen:G,exitFullscreen:y}),{inFullscreen:h,toggleFullscreen:w}}function Kt(t,k){return new Date(t)-new Date(k)}const wt={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:t=>t==="ad"||t==="da",default:"ad"}};function Ct(t,k,f,m){const g=M(()=>{const{sortBy:h}=k.value;return h&&f.value.find(w=>w.name===h)||null}),D=M(()=>t.sortMethod!==void 0?t.sortMethod:(h,w,G)=>{const y=f.value.find(F=>F.name===w);if(y===void 0||y.field===void 0)return h;const H=G===!0?-1:1,Y=typeof y.field=="function"?F=>y.field(F):F=>F[y.field];return h.sort((F,le)=>{let q=Y(F),z=Y(le);return y.rawSort!==void 0?y.rawSort(q,z,F,le)*H:q==null?-1*H:z==null?1*H:y.sort!==void 0?y.sort(q,z,F,le)*H:qa(q)===!0&&qa(z)===!0?(q-z)*H:al(q)===!0&&al(z)===!0?Kt(q,z)*H:typeof q=="boolean"&&typeof z=="boolean"?(q-z)*H:([q,z]=[q,z].map(ve=>(ve+"").toLocaleString().toLowerCase()),q<z?-1*H:q===z?0:H)})});function b(h){let w=t.columnSortOrder;if($l(h)===!0)h.sortOrder&&(w=h.sortOrder),h=h.name;else{const H=f.value.find(Y=>Y.name===h);H?.sortOrder&&(w=H.sortOrder)}let{sortBy:G,descending:y}=k.value;G!==h?(G=h,y=w==="da"):t.binaryStateSort===!0?y=!y:y===!0?w==="ad"?G=null:y=!1:w==="ad"?y=!0:G=null,m({sortBy:G,descending:y,page:1})}return{columnToSort:g,computedSortMethod:D,sort:b}}const Nt={filter:[String,Object],filterMethod:Function};function Ot(t,k){const f=M(()=>t.filterMethod!==void 0?t.filterMethod:(m,g,D,b)=>{const h=g?g.toLowerCase():"";return m.filter(w=>D.some(G=>{const y=b(G,w)+"";return(y==="undefined"||y==="null"?"":y.toLowerCase()).indexOf(h)!==-1}))});return pe(()=>t.filter,()=>{cl(()=>{k({page:1},!0)})},{deep:!0}),{computedFilterMethod:f}}function _t(t,k){for(const f in k)if(k[f]!==t[f])return!1;return!0}function ol(t){return t.page<1&&(t.page=1),t.rowsPerPage!==void 0&&t.rowsPerPage<1&&(t.rowsPerPage=0),t}const Dt={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Bt(t,k){const{props:f,emit:m}=t,g=_(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:f.rowsPerPageOptions.length!==0?f.rowsPerPageOptions[0]:5},f.pagination)),D=M(()=>{const y=f["onUpdate:pagination"]!==void 0?{...g.value,...f.pagination}:g.value;return ol(y)}),b=M(()=>D.value.rowsNumber!==void 0);function h(y){w({pagination:y,filter:f.filter})}function w(y={}){cl(()=>{m("request",{pagination:y.pagination||D.value,filter:y.filter||f.filter,getCellValue:k})})}function G(y,H){const Y=ol({...D.value,...y});if(_t(D.value,Y)===!0){b.value===!0&&H===!0&&h(Y);return}if(b.value===!0){h(Y);return}f.pagination!==void 0&&f["onUpdate:pagination"]!==void 0?m("update:pagination",Y):g.value=Y}return{innerPagination:g,computedPagination:D,isServerSide:b,requestServerInteraction:w,setPagination:G}}function St(t,k,f,m,g,D){const{props:b,emit:h,proxy:{$q:w}}=t,G=M(()=>m.value===!0?f.value.rowsNumber||0:D.value),y=M(()=>{const{page:oe,rowsPerPage:A}=f.value;return(oe-1)*A}),H=M(()=>{const{page:oe,rowsPerPage:A}=f.value;return oe*A}),Y=M(()=>f.value.page===1),F=M(()=>f.value.rowsPerPage===0?1:Math.max(1,Math.ceil(G.value/f.value.rowsPerPage))),le=M(()=>H.value===0?!0:f.value.page>=F.value),q=M(()=>(b.rowsPerPageOptions.includes(k.value.rowsPerPage)?b.rowsPerPageOptions:[k.value.rowsPerPage].concat(b.rowsPerPageOptions)).map(A=>({label:A===0?w.lang.table.allRows:""+A,value:A})));pe(F,(oe,A)=>{if(oe===A)return;const ee=f.value.page;oe&&!ee?g({page:1}):oe<ee&&g({page:oe})});function z(){g({page:1})}function ve(){const{page:oe}=f.value;oe>1&&g({page:oe-1})}function fe(){const{page:oe,rowsPerPage:A}=f.value;H.value>0&&oe*A<G.value&&g({page:oe+1})}function Ke(){g({page:F.value})}return b["onUpdate:pagination"]!==void 0&&h("update:pagination",{...f.value}),{firstRowIndex:y,lastRowIndex:H,isFirstPage:Y,isLastPage:le,pagesNumber:F,computedRowsPerPageOptions:q,computedRowsNumber:G,firstPage:z,prevPage:ve,nextPage:fe,lastPage:Ke}}const xt={selection:{type:String,default:"none",validator:t=>["single","multiple","none"].includes(t)},selected:{type:Array,default:()=>[]}},Mt=["update:selected","selection"];function Vt(t,k,f,m){const g=M(()=>{const le={};return t.selected.map(m.value).forEach(q=>{le[q]=!0}),le}),D=M(()=>t.selection!=="none"),b=M(()=>t.selection==="single"),h=M(()=>t.selection==="multiple"),w=M(()=>f.value.length!==0&&f.value.every(le=>g.value[m.value(le)]===!0)),G=M(()=>w.value!==!0&&f.value.some(le=>g.value[m.value(le)]===!0)),y=M(()=>t.selected.length);function H(le){return g.value[le]===!0}function Y(){k("update:selected",[])}function F(le,q,z,ve){k("selection",{rows:q,added:z,keys:le,evt:ve});const fe=b.value===!0?z===!0?q:[]:z===!0?t.selected.concat(q):t.selected.filter(Ke=>le.includes(m.value(Ke))===!1);k("update:selected",fe)}return{hasSelectionMode:D,singleSelection:b,multipleSelection:h,allRowsSelected:w,someRowsSelected:G,rowsSelectedNumber:y,isRowSelected:H,clearSelection:Y,updateSelection:F}}function nl(t){return Array.isArray(t)?t.slice():[]}const At={expanded:Array},Lt=["update:expanded"];function Et(t,k){const f=_(nl(t.expanded));pe(()=>t.expanded,b=>{f.value=nl(b)});function m(b){return f.value.includes(b)}function g(b){t.expanded!==void 0?k("update:expanded",b):f.value=b}function D(b,h){const w=f.value.slice(),G=w.indexOf(b);h===!0?G===-1&&(w.push(b),g(w)):G!==-1&&(w.splice(G,1),g(w))}return{isRowExpanded:m,setExpanded:g,updateExpanded:D}}const Pt={visibleColumns:Array};function Ft(t,k,f){const m=M(()=>{if(t.columns!==void 0)return t.columns;const h=t.rows[0];return h!==void 0?Object.keys(h).map(w=>({name:w,label:w.toUpperCase(),field:w,align:qa(h[w])?"right":"left",sortable:!0})):[]}),g=M(()=>{const{sortBy:h,descending:w}=k.value;return(t.visibleColumns!==void 0?m.value.filter(y=>y.required===!0||t.visibleColumns.includes(y.name)===!0):m.value).map(y=>{const H=y.align||"right",Y=`text-${H}`;return{...y,align:H,__iconClass:`q-table__sort-icon q-table__sort-icon--${H}`,__thClass:Y+(y.headerClasses!==void 0?" "+y.headerClasses:"")+(y.sortable===!0?" sortable":"")+(y.name===h?` sorted ${w===!0?"sort-desc":""}`:""),__tdStyle:y.style!==void 0?typeof y.style!="function"?()=>y.style:y.style:()=>null,__tdClass:y.classes!==void 0?typeof y.classes!="function"?()=>Y+" "+y.classes:F=>Y+" "+y.classes(F):()=>Y}})}),D=M(()=>{const h={};return g.value.forEach(w=>{h[w.name]=w}),h}),b=M(()=>t.tableColspan!==void 0?t.tableColspan:g.value.length+(f.value===!0?1:0));return{colList:m,computedCols:g,computedColsMap:D,computedColspan:b}}const Sa="q-table__bottom row items-center",gl={};vl.forEach(t=>{gl[t]={}});const Ka=aa({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:t=>["horizontal","vertical","cell","none"].includes(t)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...gl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ra,...bt,...Pt,...Nt,...Dt,...At,...xt,...wt},emits:["request","virtualScroll",...ht,...Lt,...Mt],setup(t,{slots:k,emit:f}){const m=ya(),{proxy:{$q:g}}=m,D=Ga(t,g),{inFullscreen:b,toggleFullscreen:h}=Tt(),w=M(()=>typeof t.rowKey=="function"?t.rowKey:c=>c[t.rowKey]),G=_(null),y=_(null),H=M(()=>t.grid!==!0&&t.virtualScroll===!0),Y=M(()=>" q-table__card"+(D.value===!0?" q-table__card--dark q-dark":"")+(t.square===!0?" q-table--square":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")),F=M(()=>`q-table__container q-table--${t.separator}-separator column no-wrap`+(t.grid===!0?" q-table--grid":Y.value)+(D.value===!0?" q-table--dark":"")+(t.dense===!0?" q-table--dense":"")+(t.wrapCells===!1?" q-table--no-wrap":"")+(b.value===!0?" fullscreen scroll":"")),le=M(()=>F.value+(t.loading===!0?" q-table--loading":""));pe(()=>t.tableStyle+t.tableClass+t.tableHeaderStyle+t.tableHeaderClass+F.value,()=>{H.value===!0&&y.value?.reset()});const{innerPagination:q,computedPagination:z,isServerSide:ve,requestServerInteraction:fe,setPagination:Ke}=Bt(m,i),{computedFilterMethod:oe}=Ot(t,Ke),{isRowExpanded:A,setExpanded:ee,updateExpanded:be}=Et(t,f),Se=M(()=>{let c=t.rows;if(ve.value===!0||c.length===0)return c;const{sortBy:O,descending:$}=z.value;return t.filter&&(c=oe.value(c,t.filter,Oe.value,i)),na.value!==null&&(c=Qe.value(t.rows===c?c.slice():c,O,$)),c}),V=M(()=>Se.value.length),se=M(()=>{let c=Se.value;if(ve.value===!0)return c;const{rowsPerPage:O}=z.value;return O!==0&&(Fe.value===0&&t.rows!==c?c.length>la.value&&(c=c.slice(0,la.value)):c=c.slice(Fe.value,la.value)),c}),{hasSelectionMode:re,singleSelection:Pe,multipleSelection:Re,allRowsSelected:we,someRowsSelected:Ce,rowsSelectedNumber:Z,isRowSelected:I,clearSelection:o,updateSelection:Ye}=Vt(t,f,se,w),{colList:Ne,computedCols:Oe,computedColsMap:Ue,computedColspan:je}=Ft(t,z,re),{columnToSort:na,computedSortMethod:Qe,sort:Ge}=Ct(t,z,Ne,Ke),{firstRowIndex:Fe,lastRowIndex:la,isFirstPage:We,isLastPage:He,pagesNumber:ta,computedRowsPerPageOptions:da,computedRowsNumber:ia,firstPage:Xe,prevPage:Ve,nextPage:Te,lastPage:N}=St(m,q,z,ve,Ke,V),oa=M(()=>se.value.length===0),ca=M(()=>{const c={};return vl.forEach(O=>{c[O]=t[O]}),c.virtualScrollItemSize===void 0&&(c.virtualScrollItemSize=t.dense===!0?28:48),c});function ma(){H.value===!0&&y.value.reset()}function Je(){if(t.grid===!0)return Ee();const c=t.hideHeader!==!0?T:null;if(H.value===!0){const $=k["top-row"],E=k["bottom-row"],U={default:ne=>ze(ne.item,k.body,ne.index)};if($!==void 0){const ne=B("tbody",$({cols:Oe.value}));U.before=c===null?()=>ne:()=>[c()].concat(ne)}else c!==null&&(U.before=c);return E!==void 0&&(U.after=()=>B("tbody",E({cols:Oe.value}))),B(pt,{ref:y,class:t.tableClass,style:t.tableStyle,...ca.value,scrollTarget:t.virtualScrollTarget,items:se.value,type:"__qtable",tableColspan:je.value,onVirtualScroll:pa},U)}const O=[Ze()];return c!==null&&O.unshift(c()),kl({class:["q-table__middle scroll",t.tableClass],style:t.tableStyle},O)}function va(c,O){if(y.value!==null){y.value.scrollTo(c,O);return}c=parseInt(c,10);const $=G.value.querySelector(`tbody tr:nth-of-type(${c+1})`);if($!==null){const E=G.value.querySelector(".q-table__middle.scroll"),U=$.offsetTop-t.virtualScrollStickySizeStart,ne=U<E.scrollTop?"decrease":"increase";E.scrollTop=U,f("virtualScroll",{index:c,from:0,to:q.value.rowsPerPage-1,direction:ne})}}function pa(c){f("virtualScroll",c)}function sa(){return[B(dt,{class:"q-table__linear-progress",color:t.color,dark:D.value,indeterminate:!0,trackColor:"transparent"})]}function ze(c,O,$){const E=w.value(c),U=I(E);if(O!==void 0){const de={key:E,row:c,pageIndex:$,__trClass:U?"selected":""};if(t.tableRowStyleFn!==void 0&&(de.__trStyle=t.tableRowStyleFn(c)),t.tableRowClassFn!==void 0){const ea=t.tableRowClassFn(c);ea&&(de.__trClass=`${ea} ${de.__trClass}`)}return O(Ae(de))}const ne=k["body-cell"],ue=Oe.value.map(de=>{const ea=k[`body-cell-${de.name}`],ka=ea!==void 0?ea:ne;return ka!==void 0?ka(ba({key:E,row:c,pageIndex:$,col:de})):B("td",{class:de.__tdClass(c),style:de.__tdStyle(c)},i(de,c))});if(re.value===!0){const de=k["body-selection"],ea=de!==void 0?de(fa({key:E,row:c,pageIndex:$})):[B(ra,{modelValue:U,color:t.color,dark:D.value,dense:t.dense,"onUpdate:modelValue":(ka,Va)=>{Ye([E],[c],ka,Va)}})];ue.unshift(B("td",{class:"q-table--col-auto-width"},ea))}const ke={key:E,class:{selected:U}};if(t.onRowClick!==void 0&&(ke.class["cursor-pointer"]=!0,ke.onClick=de=>{f("rowClick",de,c,$)}),t.onRowDblclick!==void 0&&(ke.class["cursor-pointer"]=!0,ke.onDblclick=de=>{f("rowDblclick",de,c,$)}),t.onRowContextmenu!==void 0&&(ke.class["cursor-pointer"]=!0,ke.onContextmenu=de=>{f("rowContextmenu",de,c,$)}),t.tableRowStyleFn!==void 0&&(ke.style=t.tableRowStyleFn(c)),t.tableRowClassFn!==void 0){const de=t.tableRowClassFn(c);de&&(ke.class[de]=!0)}return B("tr",ke,ue)}function Ze(){const c=k.body,O=k["top-row"],$=k["bottom-row"];let E=se.value.map((U,ne)=>ze(U,c,ne));return O!==void 0&&(E=O({cols:Oe.value}).concat(E)),$!==void 0&&(E=E.concat($({cols:Oe.value}))),B("tbody",E)}function Ae(c){return n(c),c.cols=c.cols.map(O=>ha({...O},"value",()=>i(O,c.row))),c}function ba(c){return n(c),ha(c,"value",()=>i(c.col,c.row)),c}function fa(c){return n(c),c}function n(c){Object.assign(c,{cols:Oe.value,colsMap:Ue.value,sort:Ge,rowIndex:Fe.value+c.pageIndex,color:t.color,dark:D.value,dense:t.dense}),re.value===!0&&ha(c,"selected",()=>I(c.key),(O,$)=>{Ye([c.key],[c.row],O,$)}),ha(c,"expand",()=>A(c.key),O=>{be(c.key,O)})}function i(c,O){const $=typeof c.field=="function"?c.field(O):O[c.field];return c.format!==void 0?c.format($,O):$}const d=M(()=>({pagination:z.value,pagesNumber:ta.value,isFirstPage:We.value,isLastPage:He.value,firstPage:Xe,prevPage:Ve,nextPage:Te,lastPage:N,inFullscreen:b.value,toggleFullscreen:h}));function S(){const c=k.top,O=k["top-left"],$=k["top-right"],E=k["top-selection"],U=re.value===!0&&E!==void 0&&Z.value>0,ne="q-table__top relative-position row items-center";if(c!==void 0)return B("div",{class:ne},[c(d.value)]);let ue;if(U===!0?ue=E(d.value).slice():(ue=[],O!==void 0?ue.push(B("div",{class:"q-table__control"},[O(d.value)])):t.title&&ue.push(B("div",{class:"q-table__control"},[B("div",{class:["q-table__title",t.titleClass]},t.title)]))),$!==void 0&&(ue.push(B("div",{class:"q-table__separator col"})),ue.push(B("div",{class:"q-table__control"},[$(d.value)]))),ue.length!==0)return B("div",{class:ne},ue)}const K=M(()=>Ce.value===!0?null:we.value);function T(){const c=L();return t.loading===!0&&k.loading===void 0&&c.push(B("tr",{class:"q-table__progress"},[B("th",{class:"relative-position",colspan:je.value},sa())])),B("thead",c)}function L(){const c=k.header,O=k["header-cell"];if(c!==void 0)return c(ae({header:!0})).slice();const $=Oe.value.map(E=>{const U=k[`header-cell-${E.name}`],ne=U!==void 0?U:O,ue=ae({col:E});return ne!==void 0?ne(ue):B(vt,{key:E.name,props:ue},()=>E.label)});if(Pe.value===!0&&t.grid!==!0)$.unshift(B("th",{class:"q-table--col-auto-width"}," "));else if(Re.value===!0){const E=k["header-selection"],U=E!==void 0?E(ae({})):[B(ra,{color:t.color,modelValue:K.value,dark:D.value,dense:t.dense,"onUpdate:modelValue":X})];$.unshift(B("th",{class:"q-table--col-auto-width"},U))}return[B("tr",{class:t.tableHeaderClass,style:t.tableHeaderStyle},$)]}function ae(c){return Object.assign(c,{cols:Oe.value,sort:Ge,colsMap:Ue.value,color:t.color,dark:D.value,dense:t.dense}),Re.value===!0&&ha(c,"selected",()=>K.value,X),c}function X(c){Ce.value===!0&&(c=!1),Ye(se.value.map(w.value),se.value,c)}const R=M(()=>{const c=[t.iconFirstPage||g.iconSet.table.firstPage,t.iconPrevPage||g.iconSet.table.prevPage,t.iconNextPage||g.iconSet.table.nextPage,t.iconLastPage||g.iconSet.table.lastPage];return g.lang.rtl===!0?c.reverse():c});function _e(){if(t.hideBottom===!0)return;if(oa.value===!0){if(t.hideNoData===!0)return;const $=t.loading===!0?t.loadingLabel||g.lang.table.loading:t.filter?t.noResultsLabel||g.lang.table.noResults:t.noDataLabel||g.lang.table.noData,E=k["no-data"],U=E!==void 0?[E({message:$,icon:g.iconSet.table.warning,filter:t.filter})]:[B(qe,{class:"q-table__bottom-nodata-icon",name:g.iconSet.table.warning}),$];return B("div",{class:Sa+" q-table__bottom--nodata"},U)}const c=k.bottom;if(c!==void 0)return B("div",{class:Sa},[c(d.value)]);const O=t.hideSelectedBanner!==!0&&re.value===!0&&Z.value>0?[B("div",{class:"q-table__control"},[B("div",[(t.selectedRowsLabel||g.lang.table.selectedRecords)(Z.value)])])]:[];if(t.hidePagination!==!0)return B("div",{class:Sa+" justify-end"},De(O));if(O.length!==0)return B("div",{class:Sa},O)}function me(c){Ke({page:1,rowsPerPage:c.value})}function De(c){let O;const{rowsPerPage:$}=z.value,E=t.paginationLabel||g.lang.table.pagination,U=k.pagination,ne=t.rowsPerPageOptions.length>1;if(c.push(B("div",{class:"q-table__separator col"})),ne===!0&&c.push(B("div",{class:"q-table__control"},[B("span",{class:"q-table__bottom-item"},[t.rowsPerPageLabel||g.lang.table.recordsPerPage]),B(Ma,{class:"q-table__select inline q-table__bottom-item",color:t.color,modelValue:$,options:da.value,displayValue:$===0?g.lang.table.allRows:$,dark:D.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":me})])),U!==void 0)O=U(d.value);else if(O=[B("span",$!==0?{class:"q-table__bottom-item"}:{},[$?E(Fe.value+1,Math.min(la.value,ia.value),ia.value):E(1,V.value,ia.value)])],$!==0&&ta.value>1){const ue={color:t.color,round:!0,dense:!0,flat:!0};t.dense===!0&&(ue.size="sm"),ta.value>2&&O.push(B(ie,{key:"pgFirst",...ue,icon:R.value[0],disable:We.value,ariaLabel:g.lang.pagination.first,onClick:Xe})),O.push(B(ie,{key:"pgPrev",...ue,icon:R.value[1],disable:We.value,ariaLabel:g.lang.pagination.prev,onClick:Ve}),B(ie,{key:"pgNext",...ue,icon:R.value[2],disable:He.value,ariaLabel:g.lang.pagination.next,onClick:Te})),ta.value>2&&O.push(B(ie,{key:"pgLast",...ue,icon:R.value[3],disable:He.value,ariaLabel:g.lang.pagination.last,onClick:N}))}return c.push(B("div",{class:"q-table__control"},O)),c}function xe(){const c=t.gridHeader===!0?[B("table",{class:"q-table"},[T()])]:t.loading===!0&&k.loading===void 0?sa():void 0;return B("div",{class:"q-table__middle"},c)}function Ee(){const c=k.item!==void 0?k.item:O=>{const $=O.cols.map(U=>B("div",{class:"q-table__grid-item-row"},[B("div",{class:"q-table__grid-item-title"},[U.label]),B("div",{class:"q-table__grid-item-value"},[U.value])]));if(re.value===!0){const U=k["body-selection"],ne=U!==void 0?U(O):[B(ra,{modelValue:O.selected,color:t.color,dark:D.value,dense:t.dense,"onUpdate:modelValue":(ue,ke)=>{Ye([O.key],[O.row],ue,ke)}})];$.unshift(B("div",{class:"q-table__grid-item-row"},ne),B(ql,{dark:D.value}))}const E={class:["q-table__grid-item-card"+Y.value,t.cardClass],style:t.cardStyle};if(t.cardStyleFn!==void 0&&(E.style=[E.style,t.cardStyleFn(O.row)]),t.cardClassFn!==void 0){const U=t.cardClassFn(O.row);U&&(E.class[0]+=` ${U}`)}return(t.onRowClick!==void 0||t.onRowDblclick!==void 0||t.onRowContextmenu!==void 0)&&(E.class[0]+=" cursor-pointer",t.onRowClick!==void 0&&(E.onClick=U=>{f("RowClick",U,O.row,O.pageIndex)}),t.onRowDblclick!==void 0&&(E.onDblclick=U=>{f("RowDblclick",U,O.row,O.pageIndex)}),t.onRowContextmenu!==void 0&&(E.onContextmenu=U=>{f("rowContextmenu",U,O.row,O.pageIndex)})),B("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(O.selected===!0?" q-table__grid-item--selected":"")},[B("div",E,$)])};return B("div",{class:["q-table__grid-content row",t.cardContainerClass],style:t.cardContainerStyle},se.value.map((O,$)=>c(Ae({key:w.value(O),row:O,pageIndex:$}))))}return Object.assign(m.proxy,{requestServerInteraction:fe,setPagination:Ke,firstPage:Xe,prevPage:Ve,nextPage:Te,lastPage:N,isRowSelected:I,clearSelection:o,isRowExpanded:A,setExpanded:ee,sort:Ge,resetVirtualScroll:ma,scrollTo:va,getCellValue:i}),Yl(m.proxy,{filteredSortedRows:()=>Se.value,computedRows:()=>se.value,computedRowsNumber:()=>ia.value}),()=>{const c=[S()],O={ref:G,class:le.value};return t.grid===!0?c.push(xe()):Object.assign(O,{class:[O.class,t.cardClass],style:t.cardStyle}),c.push(Je(),_e()),t.loading===!0&&k.loading!==void 0&&c.push(k.loading()),B("div",O,c)}}}),xa=aa({name:"QSpace",setup(){const t=B("div",{class:"q-space"});return()=>t}}),$t='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',Yt=aa({name:"QSpinnerGears",props:Rl,setup(t){const{cSize:k,classes:f}=Gl(t);return()=>B("svg",{class:f.value,width:k.value,height:k.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:$t})}}),qt=aa({name:"QInnerLoading",props:{...Ra,...Hl,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:k}){const f=ya(),m=Ga(t,f.proxy.$q),{transitionProps:g,transitionStyle:D}=zl(t),b=M(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(m.value===!0?" q-inner-loading--dark":"")),h=M(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function w(){const y=[B(Ul,{size:t.size,color:t.color})];return t.label!==void 0&&y.push(B("div",{class:h.value,style:t.labelStyle},[t.label])),y}function G(){return t.showing===!0?B("div",{class:b.value,style:D.value},k.default!==void 0?k.default():w()):null}return()=>B(Il,g.value,G)}});function sl(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const k=parseInt(t,10);return isNaN(k)?0:k}const Ya=jl({name:"close-popup",beforeMount(t,{value:k}){const f={depth:sl(k),handler(m){f.depth!==0&&setTimeout(()=>{const g=Wl(t);g!==void 0&&Xl(g,m,f.depth)})},handlerKey(m){Ql(m,13)===!0&&f.handler(m)}};t.__qclosepopup=f,t.addEventListener("click",f.handler),t.addEventListener("keyup",f.handlerKey)},updated(t,{value:k,oldValue:f}){k!==f&&(t.__qclosepopup.depth=sl(k))},beforeUnmount(t){const k=t.__qclosepopup;t.removeEventListener("click",k.handler),t.removeEventListener("keyup",k.handlerKey),delete t.__qclosepopup}}),Rt={class:"text-subtitle1 text-grey-8 text-weight-medium"},Gt={class:"containers-wrapper"},Ht={class:"ana-form-wrapper"},zt={class:"ana-form-container"},It={class:"hesap-firma-container"},Ut={class:"row no-wrap hesap-firma-row"},jt={class:"col hesap-firma-col"},Qt={class:"col hesap-firma-col"},Wt={class:"musteri-fields"},Xt={class:"row no-wrap musteri-row"},Jt={class:"col musteri-col"},Zt={class:"col musteri-col"},ei={class:"row"},ai={class:"col-12"},li={class:"oda-konaklama-fields"},ti={class:"row no-wrap oda-konaklama-row"},ii={class:"col oda-konaklama-col"},oi={class:"col oda-konaklama-col"},ni={class:"row no-wrap oda-konaklama-row"},si={class:"col-4 oda-konaklama-col"},ri={class:"col-4 oda-konaklama-col"},ui={class:"col-4 oda-konaklama-col"},di={class:"bedel-islemler-fields"},ci={class:"row no-wrap bedel-islemler-row"},mi={class:"col bedel-islemler-col"},vi={class:"col bedel-islemler-col"},fi={class:"col bedel-islemler-col"},ki={class:"row bedel-islemler-row items-center justify-evenly q-mt-sm"},gi={class:"bedel-islemler-item"},yi={class:"bedel-islemler-item"},pi={class:"bedel-islemler-item"},bi={class:"bedel-islemler-item kara-liste-item"},hi={class:"bedel-islemler-item"},Ti={key:0,class:"row q-mt-sm"},Ki={class:"col-12"},wi={class:"ek-notlar-fields"},Ci={class:"ek-hizmetler-container"},Ni={class:"column q-gutter-sm"},Oi={class:"q-mt-md"},_i={key:0,class:"q-mt-lg"},Di={class:"eknotlar-icerik-label"},Bi={class:"q-mt-md"},Si={key:0,class:"q-mt-lg"},xi={class:"eknotlar-icerik-label"},Mi=ml({__name:"DonemYenilemeModal",props:{modelValue:{type:Boolean},selectedData:{},activeFilter:{}},emits:["update:modelValue","refresh","saved","success"],setup(t,{expose:k,emit:f}){const m=t,g=f,D=rt(),b=_();Ca(()=>{console.log("[DonemYenilemeModal] Component MOUNT edildi!"),sa()});const h=_(!1),w=_(!1),G=_([]),y=M(()=>m.activeFilter==="yeni-musteri"||m.activeFilter==="yeni-giris"||m.activeFilter==="toplam-aktif"?"ODA DEĞİŞİKLİ":"DÖNEM YENİLE"),H=M(()=>m.activeFilter==="yeni-musteri"||m.activeFilter==="yeni-giris"||m.activeFilter==="toplam-aktif"?"ERKEN ÇIKIŞ":"ÇIKIŞ YAP"),Y=_(!1),F=M(()=>`${y.value} / ${H.value}`),le=M(()=>y.value==="ODA DEĞİŞİKLİ"?"Kalan Konaklama Süresi (Gün)":"Konaklama Süresi (Gün)");async function q(){if(console.log("🚀 Dönem Yenile butonu tıklandı!"),console.log("Current saving state:",h.value),y.value==="ODA DEĞİŞİKLİ"){if(Z.value){D.notify({color:"negative",icon:"warning",message:"Kara Liste Seçilmiş İken Oda Değişimi Yapılamaz",position:"top",timeout:3e3});return}if(Y.value=!0,o.value.KnklmNot="",!o.value.OdaYatak||typeof o.value.OdaYatak=="string"&&!o.value.OdaYatak||typeof o.value.OdaYatak=="object"&&!o.value.OdaYatak.value){D.notify({color:"warning",icon:"info",message:"Oda No - Yatak No seçimi yapılmadı!",position:"top",timeout:3e3});return}if(o.value.KnklmOdaTip===m.selectedData?.KnklmOdaTip){D.notify({color:"warning",icon:"info",message:"Henüz Bir Oda Değişilkliği Yapmadınız!",position:"top",timeout:3e3});return}else{const n=new Date,i=m.selectedData?.KnklmGrsTrh;if(i){const[d=0,S=0,K=0]=i.split(".").map(xe=>Number(xe)||0),T=new Date(K,S-1,d),L=n.getDate(),ae=n.getMonth()+1,X=n.getFullYear(),R=T.getDate(),_e=T.getMonth()+1,me=T.getFullYear();if(L===R&&ae===_e&&X===me){console.log("Oda değişikliği konaklamanın ilk günü yapılıyor - direkt işlem"),await pa();return}else{console.log("Oda değişikliği konaklamanın devam eden günlerinde yapılıyor - detaylı hesaplama"),ma();return}}else{console.log("Giriş tarihi bulunamadı - varsayılan olarak detaylı hesaplama"),ma();return}}}else Y.value=!1;if(Z.value){D.notify({color:"negative",icon:"warning",message:"Kara Liste seçimi tespit edildi, işleme devam edilemiyor.",position:"top",timeout:3e3});return}h.value=!0;try{console.log("saveDonemYenileme başlatıldı"),console.log("formData:",o.value);let n;if(typeof o.value.OdaYatak=="string")n=o.value.OdaYatak.replace(" (mevcut)","");else if(o.value.OdaYatak&&typeof o.value.OdaYatak=="object"&&"value"in o.value.OdaYatak)n=o.value.OdaYatak.value.replace(" (mevcut)","");else throw new Error("OdaYatak verisi geçersiz format");const[i,d]=n.split("-"),S={value:n,label:`Oda: ${i} - Yatak: ${d}`},K={...o.value,OdaYatak:S,eskiKnklmPlnTrh:o.value.eskiKnklmPlnTrh,ekHizmetler:V.value,MstrKllnc:"admin"};console.log("Dönem yenileme request data:",K);const T=await J.post("donem-yenileme",K);if(console.log("Backend response:",T.data),T.data.success)_a.create({type:"positive",message:"Dönem yenileme başarıyla tamamlandı!",position:"top",timeout:3e3,actions:[{icon:"close",color:"white",handler:()=>{}}]}),setTimeout(()=>{g("saved"),z()},3e3);else throw new Error(T.data.message||"Bilinmeyen hata")}catch(n){console.error("Dönem yenileme hatası:",n),_a.create({type:"negative",message:n.response?.data?.message||"Dönem yenileme sırasında hata oluştu",position:"top"})}finally{h.value=!1}}function z(){Z.value=!1,I.value="",V.value={kahvaltiDahil:!0,havluVerildi:!1,prizVerildi:!1},o.value={MstrTCN:"",MstrAdi:"",MstrTelNo:"",MstrHspTip:"",MstrFirma:"",KnklmOdaTip:"",OdaYatak:"",KonaklamaSuresi:1,KonaklamaTipi:"",HesaplananBedel:0,ToplamBedel:0,KnklmPlnTrh:"",KnklmNot:"",OdemeVadesi:"",eskiKnklmPlnTrh:"",eskiOdaYatak:""},ee.value=[],be.value=null,re.value="",Je.value=!1,A.value=!1,g("update:modelValue",!1)}function ve(){if(m.selectedData){if(H.value==="ERKEN ÇIKIŞ"){fe();return}if(Z.value&&(!I.value||I.value.trim().length<10)){D.notify({color:"negative",icon:"warning",message:"Kara liste işaretli iken açıklama alanına en az 10 karakter girmelisiniz!",position:"top",timeout:4e3});return}D.dialog({title:"Onay",message:"Müşterinin çıkışını yapmak istediğinizden emin misiniz? Bu işlem odayı boşaltacak ve konaklamayı sonlandıracaktır.",cancel:{label:"İptal",color:"grey"},ok:{label:"Evet, Çıkış Yap",color:"negative",flat:!1},persistent:!0}).onOk(()=>{(async()=>{h.value=!0;try{const i={tcNo:m.selectedData.MstrTCN,plnTrh:m.selectedData.KnklmPlnTrh,odaYatak:{label:`Oda: ${m.selectedData.KnklmOdaNo} - Yatak: ${m.selectedData.KnklmYtkNo}`,value:`${m.selectedData.KnklmOdaNo}-${m.selectedData.KnklmYtkNo}`},...Z.value&&{knklmKrLst:"EVET",knklmNot:I.value.trim()}},d=await J.post("cikis-yap",i);if(d.data.success)_a.create({type:"positive",message:d.data.message||"Çıkış işlemi başarıyla tamamlandı!",position:"top",timeout:3e3,actions:[{icon:"close",color:"white",handler:()=>{}}]}),setTimeout(()=>{g("refresh"),z()},3e3);else throw new Error(d.data.message||"Bilinmeyen bir hata oluştu.")}catch(i){let d="Bir hata oluştu";i instanceof Error&&(d=i.message),D.notify({color:"negative",icon:"error",message:`Çıkış işlemi başarısız: ${d}`,position:"top",timeout:4e3})}finally{h.value=!1}})()})}}function fe(){if(!m.selectedData)return;const n=new Date,i=m.selectedData.KnklmGrsTrh;if(!i)return;const[d=0,S=0,K=0]=i.split(".").map(xe=>Number(xe)||0),T=new Date(K,S-1,d),L=n.getDate(),ae=n.getMonth()+1,X=n.getFullYear(),R=T.getDate(),_e=T.getMonth()+1,me=T.getFullYear();L===R&&ae===_e&&X===me?Ke():ba()}function Ke(){D.dialog({title:"Onay",message:"Müşterinin çıkışını yapmak istediğinizden emin misiniz? Bu işlem odayı boşaltacak ve konaklamayı sonlandıracaktır.",cancel:{label:"İptal",color:"grey"},ok:{label:"Evet, Çıkışı Yap",color:"negative",flat:!1},persistent:!0}).onOk(()=>{oe({giderTutar:Number(m.selectedData?.KnklmNfyt)||0,hesaplananEkNot:"ERKEN ÇIKIŞ FARKI",dialogdanMi:!1})})}async function oe({giderTutar:n,hesaplananEkNot:i,dialogdanMi:d}){h.value=!0;try{const S={tcNo:m.selectedData?.MstrTCN,odaYatak:{label:`Oda: ${m.selectedData?.KnklmOdaNo} - Yatak: ${m.selectedData?.KnklmYtkNo}`,value:`${m.selectedData?.KnklmOdaNo}-${m.selectedData?.KnklmYtkNo}`},islemTarihi:new Date().toISOString(),giderTutar:n,ekNot:i,dialogdanMi:d},K=await J.post("erken-cikis-yap",S);if(K.data.success)_a.create({type:"positive",message:K.data.message||"Erken çıkış işlemi başarıyla tamamlandı!",position:"top",timeout:3e3,actions:[{icon:"close",color:"white",handler:()=>{}}]}),setTimeout(()=>{g("refresh"),z()},3e3);else throw new Error(K.data.message||"Bilinmeyen bir hata oluştu.")}catch(S){let K="Bir hata oluştu";S instanceof Error&&(K=S.message),D.notify({color:"negative",icon:"error",message:`Erken çıkış işlemi başarısız: ${K}`,position:"top",timeout:4e3})}finally{h.value=!1}}console.log("🔧 Fonksiyonlar tanımlandı");const A=M({get:()=>m.modelValue,set:n=>g("update:modelValue",n)}),ee=_([]),be=_(null),Se=_(!1),V=_({kahvaltiDahil:!0,havluVerildi:!1,prizVerildi:!1}),se=_({kahvaltiDahil:!0,havluVerildi:!1,prizVerildi:!1}),re=_(""),Pe=_(!1),Re=_(null);function we(n){let i="";typeof n=="string"?i=n:n&&typeof n=="object"&&(i=n.value||"");const d=i.split("-"),S=m.selectedData?.KnklmOdaNo||"",K=m.selectedData?.KnklmYtkNo||"",T=d[0]||"",L=d[1]||"";return{eskiOdaNo:S,eskiYatakNo:K,yeniOdaNo:T,yeniYatakNo:L}}function Ce(){g("update:modelValue",!1)}const Z=_(!1),I=_(""),o=_({MstrTCN:"",MstrAdi:"",MstrTelNo:"",MstrHspTip:"",MstrFirma:"",KnklmOdaTip:"",OdaYatak:"",KonaklamaSuresi:1,KonaklamaTipi:"",HesaplananBedel:0,ToplamBedel:0,KnklmPlnTrh:"",KnklmNot:"",OdemeVadesi:"",eskiKnklmPlnTrh:"",eskiOdaYatak:""});function Ye(n){o.value.OdemeVadesi=n,b.value&&b.value.hide()}function Ne(n){if(!n||n.trim()==="")return"";if(/^\d{2}\.\d{2}\.\d{4}$/.test(n)){const i=n.split(".");if(i.length===3)return parseInt(i[0]||"0")>12?`${i[1]}.${i[0]}.${i[2]}`:n}if(/^\d{2}\.\d{2}\.\d{4}$/.test(n)){const i=n.split(".");if(i.length===3)return`${i[1]}.${i[0]}.${i[2]}`}return n}function Oe(n,i){if(!n||!i)return console.log("Konaklama süresi hesaplanamadı - tarih bilgisi eksik"),1;try{const[d=0,S=0,K=0]=n.split(".").map(De=>Number(De)||0),T=new Date(K,S-1,d),[L=0,ae=0,X=0]=i.split(".").map(De=>Number(De)||0),R=new Date(X,ae-1,L),_e=T.getTime()-R.getTime(),me=Math.ceil(_e/(1e3*60*60*24));return console.log("Konaklama süresi hesaplandı:",{girisTarihi:i,cikisTarihi:n,gunSayisi:me}),Math.max(1,me)}catch(d){return console.error("Konaklama süresi hesaplanırken hata:",d),1}}function Ue(n){if(!n)return;ze.value=!0,w.value=!0;const i=`${n.KnklmOdaNo}-${n.KnklmYtkNo}`,d={value:i,label:`${i} (mevcut)`};ee.value=[d];let S=Oe(n.KnklmPlnTrh||"",n.KnklmGrsTrh||"");if(y.value==="ODA DEĞİŞİKLİ"){const T=new Date,[L=0,ae=0,X=0]=(n.KnklmPlnTrh||"").split(".").map(me=>Number(me)||0),R=new Date(X,ae-1,L);S=Math.max(1,Math.ceil((R.getTime()-T.getTime())/(1e3*60*60*24)))}console.log("Form yüklenirken konaklama süresi hesaplandı:",S);let K=!1;(m.activeFilter==="bugun-giren"||m.activeFilter==="toplam-aktif")&&n.KnklmPlnTrh&&n.KnklmGrsTrh&&(K=!0),o.value={MstrTCN:n.MstrTCN||"",MstrAdi:n.MstrAdi||"",MstrTelNo:n.MstrTelNo||"",MstrHspTip:n.MstrHspTip||"",MstrFirma:n.MstrFirma||"",KnklmOdaTip:n.KnklmOdaTip||"",OdaYatak:d,KonaklamaSuresi:S,KonaklamaTipi:n.KonaklamaTipi||"",HesaplananBedel:Number(n.HesaplananBedel)||0,ToplamBedel:Number(n.KnklmNfyt)||0,KnklmPlnTrh:n.KnklmPlnTrh||"",KnklmNot:n.KnklmNot||"",OdemeVadesi:Ne(n.OdemeVadesi||""),eskiKnklmPlnTrh:n.KnklmPlnTrh,eskiOdaYatak:i},Y.value=K,setTimeout(()=>{ze.value=!1},100)}pe(()=>m.selectedData,async n=>{if(n){if(Ue(n),await je(),He(),await Fe(),await Ge(),re.value=n.KnklmNot||"",Ve(re.value),n.OdemeVadesi&&n.OdemeVadesi.trim()!=="")o.value.OdemeVadesi=Ne(n.OdemeVadesi),console.log("Modal: Frontend'den ödeme vadesi kullanıldı:",n.OdemeVadesi);else try{const i=await J.get(`dashboard/musteri-odeme-vadesi/${encodeURIComponent(n.MstrTCN)}`);i.data.success&&i.data.data&&i.data.data.odemeVadesi?(o.value.OdemeVadesi=Ne(i.data.data.odemeVadesi),console.log("Modal: Backend'den ödeme vadesi çekildi:",i.data.data.odemeVadesi)):(o.value.OdemeVadesi="",console.log("Modal: Ödeme vadesi bulunamadı"))}catch(i){o.value.OdemeVadesi="",console.log("Modal: Backend'den ödeme vadesi çekilirken hata:",i)}setTimeout(()=>{w.value=!1},100),y.value==="ODA DEĞİŞİKLİ"?(Y.value=!0,o.value.KnklmNot=""):Y.value=!1}},{immediate:!0}),pe(()=>m.modelValue,async n=>{if(n&&m.selectedData){if(Ue(m.selectedData),await je(),He(),await Fe(),await Ge(),re.value=m.selectedData.KnklmNot||"",Ve(re.value),m.selectedData.OdemeVadesi&&m.selectedData.OdemeVadesi.trim()!=="")o.value.OdemeVadesi=Ne(m.selectedData.OdemeVadesi),console.log("Modal: Frontend'den ödeme vadesi kullanıldı:",m.selectedData.OdemeVadesi);else try{const i=await J.get(`dashboard/musteri-odeme-vadesi/${encodeURIComponent(m.selectedData.MstrTCN)}`);i.data.success&&i.data.data&&i.data.data.odemeVadesi?(o.value.OdemeVadesi=Ne(i.data.data.odemeVadesi),console.log("Modal: Backend'den ödeme vadesi çekildi:",i.data.data.odemeVadesi)):(o.value.OdemeVadesi="",console.log("Modal: Ödeme vadesi bulunamadı"))}catch(i){o.value.OdemeVadesi="",console.log("Modal: Backend'den ödeme vadesi çekilirken hata:",i)}setTimeout(()=>{w.value=!1},100),y.value==="ODA DEĞİŞİKLİ"?(Y.value=!0,o.value.KnklmNot=""):Y.value=!1}}),pe(()=>o.value.KonaklamaSuresi,(n,i)=>{n!==i&&n>=1&&(console.log("Watch: Konaklama süresi değişti:",i,"->",n),Fe())}),pe(()=>o.value.KnklmOdaTip,(n,i)=>{if(w.value){console.log("Veri yükleniyor - Oda tipi watcher atlandı");return}n!==i&&(console.log("Watch: Oda tipi değişti:",i,"->",n),Qe())}),pe(()=>o.value.OdaYatak,(n,i)=>{if(w.value){console.log("Veri yükleniyor - Oda-yatak watcher atlandı");return}if(n!==i&&n){console.log("Watch: Oda-yatak değişti:",i,"->",n);const d=typeof n=="string"?n:n.value,S=o.value.eskiOdaYatak,K=o.value.KnklmNot||"",T=/Oda Değişti, Eski Oda: [^-/]+/;if(d&&S&&d.replace(" (mevcut)","")===S){if(console.log("Oda değişikliği geri alındı - not siliniyor:",{eski:S,yeni:d}),T.test(K)){let L=K.replace(T,"").trim();L=L.replace(/\s*-\s*$/,"").replace(/^\s*-\s*/,"").replace(/\s*-\/- -\/- /," -/- "),o.value.KnklmNot=L,console.log("Oda değişikliği notu silindi:",o.value.KnklmNot)}}else if(d&&S&&d.replace(" (mevcut)","")!==S){console.log("Oda değişti - not ekleniyor:",{eski:S,yeni:d});let L=K;T.test(K)&&(L=K.replace(T,"").trim(),L=L.replace(/\s*-\s*$/,"").replace(/^\s*-\s*/,"").replace(/\s*-\/- -\/- /," -/- "));const ae=`Oda Değişti, Eski Oda: ${S}`;L?o.value.KnklmNot=`${L} -/- ${ae}`:o.value.KnklmNot=ae,console.log("Oda değişikliği notu eklendi:",o.value.KnklmNot)}Ge()}}),pe(()=>o.value.KonaklamaTipi,n=>{n==="GÜNLÜK"?V.value.kahvaltiDahil=!0:V.value.kahvaltiDahil=!1}),pe(()=>V.value,()=>{if(w.value){console.log("Veri yükleniyor - EkHizmetler watcher atlandı");return}Xe()},{deep:!0}),pe([()=>o.value.HesaplananBedel,()=>o.value.ToplamBedel],()=>{if(w.value){console.log("Veri yükleniyor - ToplamBedel watcher atlandı");return}y.value==="ODA DEĞİŞİKLİ"&&Je.value||Xe()});async function je(){try{const n=await J.get("bos-oda-tipleri");if(n.data.success&&(G.value=n.data.data,m.selectedData&&m.selectedData.KnklmOdaTip)){const i=m.selectedData.KnklmOdaTip;G.value.includes(i)||(G.value.unshift(i),console.log("Mevcut müşterinin oda tipi listeye eklendi:",i),console.log("Güncel oda tipleri listesi:",G.value))}}catch(n){console.error("Boş oda tipleri yüklenemedi:",n)}}async function na(){if(!o.value.KnklmOdaTip){ee.value=[];return}try{console.log("Boş odalar yükleniyor, oda tipi:",o.value.KnklmOdaTip);const n=await J.get(`bos-odalar/${encodeURIComponent(o.value.KnklmOdaTip)}`);if(console.log("Boş odalar response:",n.data),n.data.success){if(ee.value=n.data.data,m.selectedData){const i=`${m.selectedData.KnklmOdaNo}-${m.selectedData.KnklmYtkNo}`;if(m.selectedData.KnklmOdaTip===o.value.KnklmOdaTip){const S=ee.value.some(T=>T.value===i);let K;S?K=ee.value.find(T=>T.value===i):(K={value:i,label:`${i} (mevcut)`},ee.value.unshift(K),console.log("Mevcut oda-yatak listeye eklendi:",i)),o.value.OdaYatak&&typeof o.value.OdaYatak=="object"&&o.value.OdaYatak.value===i&&(console.log("FormData OdaYatak referansı güncelleniyor:",K),o.value.OdaYatak=K)}}console.log("Boş odalar yüklendi:",ee.value)}else console.error("Boş odalar yüklenirken hata:",n.data),ee.value=[]}catch(n){console.error("Boş odalar yüklenemedi:",n),ee.value=[]}}async function Qe(){if(w.value){console.log("Veri yükleniyor - onOdaTipi atlandı");return}console.log("Oda tipi değişti:",o.value.KnklmOdaTip),o.value.OdaYatak="",o.value.HesaplananBedel=0,o.value.ToplamBedel=0,be.value=null,await na(),o.value.KnklmOdaTip&&o.value.KonaklamaSuresi>=1&&await Fe()}async function Ge(){if(w.value){console.log("Veri yükleniyor - onOdaYatakChange atlandı");return}o.value.KnklmOdaTip&&o.value.KonaklamaSuresi>0&&await We()}async function Fe(){const n=o.value.KonaklamaSuresi;if(n<1||n>30){o.value.KonaklamaSuresi=1,o.value.KonaklamaTipi="GÜNLÜK";return}if(!be.value&&o.value.KnklmOdaTip)try{const L=await J.get(`oda-tip-fiyatlari/${encodeURIComponent(o.value.KnklmOdaTip)}`);L.data.success&&L.data.data&&(be.value=L.data.data)}catch(L){console.error("Fiyat bilgileri alınamadı:",L),o.value.KonaklamaTipi="GÜNLÜK";return}if(!be.value){o.value.KonaklamaTipi="GÜNLÜK";return}const i=Number(be.value.OdLfytGun)||0,d=Number(be.value.OdLfytHft)||0,S=Number(be.value.OdLfytAyl)||0;console.log("Fiyat analizi:",{sure:n,gunlukFiyat:i,haftalikFiyat:d,aylikFiyat:S});let K="",T=0;n<=7&&n*i<=d?(K="GÜNLÜK",T=n*i,console.log("Günlük seçildi:",{gunlukToplam:T,haftalikFiyat:d})):n>7&&n<=14&&(n-7)*i+d<=2*d?(K="1 HAFTALIK",T=(n-7)*i+d,console.log("1 Haftalık seçildi:",{hesaplanan:T,ikiHaftalik:2*d})):n>14&&n<=21&&(n-14)*i+2*d<=3*d?(K="2 HAFTALIK",T=(n-14)*i+2*d,console.log("2 Haftalık seçildi:",{hesaplanan:T,ucHaftalik:3*d})):n>21&&(n-21)*i+3*d<=S?(K="3 HAFTALIK",T=(n-21)*i+3*d,console.log("3 Haftalık seçildi:",{hesaplanan:T,aylikFiyat:S})):n<=7?(K="1 HAFTALIK",T=d,console.log("1 Haftalık seçildi (6-7 gün için):",{gunlukToplam:n*i,haftalikFiyat:d})):n<=14?(K="2 HAFTALIK",T=2*d,console.log("2 Haftalık seçildi (backup):",{sure:n,hesaplanan:T})):n<=21?(K="3 HAFTALIK",T=3*d,console.log("3 Haftalık seçildi (backup):",{sure:n,hesaplanan:T})):(K="AYLIK",T=S,console.log("Aylık seçildi:",{sure:n,aylikFiyat:S})),T>S?(o.value.KonaklamaTipi="AYLIK",console.log("Aylık fiyat sınırı aşıldı, aylık seçildi:",{hesaplananTutar:T,aylikFiyat:S})):o.value.KonaklamaTipi=K,He(),await We(),Xe()}function la(n){typeof n=="number"&&n>=0?o.value.ToplamBedel=n:typeof n=="string"&&!isNaN(Number(n))?o.value.ToplamBedel=Number(n):o.value.ToplamBedel=0}async function We(){if(console.log("calculateBedel çağrıldı:",{odaTip:o.value.KnklmOdaTip,sure:o.value.KonaklamaSuresi,tip:o.value.KonaklamaTipi}),!o.value.KnklmOdaTip||!o.value.KonaklamaSuresi||!o.value.KonaklamaTipi){console.log("Bedel hesaplama için gerekli bilgiler eksik"),o.value.HesaplananBedel=0,ze.value&&(o.value.ToplamBedel=0);return}try{console.log("Fiyat bilgileri getiriliyor:",o.value.KnklmOdaTip);const n=await J.get(`oda-tip-fiyatlari/${encodeURIComponent(o.value.KnklmOdaTip)}`);if(console.log("Fiyat response:",n.data),n.data.success&&n.data.data){be.value=n.data.data;let i=0;const d=o.value.KonaklamaSuresi,S=o.value.KonaklamaTipi,K=Number(be.value?.OdLfytGun)||0,T=Number(be.value?.OdLfytHft)||0,L=Number(be.value?.OdLfytAyl)||0;S==="GÜNLÜK"?i=K*d:S==="1 HAFTALIK"?d>7?i=(d-7)*K+T:i=T:S==="2 HAFTALIK"?d>14?i=(d-14)*K+2*T:i=2*T:S==="3 HAFTALIK"?d>21?i=(d-21)*K+3*T:i=3*T:S==="AYLIK"&&(i=L),i>L&&(i=L,console.log(`Bedel hesaplaması: ${S} hesaplandı ${i} TL, ama aylık fiyat uygulandı: ${L} TL`)),i=Math.floor(i/10)*10,o.value.HesaplananBedel=i,ze.value||(o.value.ToplamBedel=i)}}catch(n){console.error("Fiyat hesaplama hatası:",n),o.value.HesaplananBedel=0,ze.value&&(o.value.ToplamBedel=0)}}function He(){if(!o.value.eskiKnklmPlnTrh)return;const n=o.value.eskiKnklmPlnTrh.split(".");if(n.length!==3)return;const i=new Date(parseInt(n[2]||"0"),parseInt(n[1]||"0")-1,parseInt(n[0]||"0")),d=new Date(i);d.setDate(d.getDate()+o.value.KonaklamaSuresi);const S=String(d.getDate()).padStart(2,"0"),K=String(d.getMonth()+1).padStart(2,"0"),T=d.getFullYear();o.value.KnklmPlnTrh=`${S}.${K}.${T}`}function ta(){se.value={kahvaltiDahil:V.value.kahvaltiDahil,havluVerildi:V.value.havluVerildi,prizVerildi:V.value.prizVerildi},Se.value=!0}function da(){V.value={kahvaltiDahil:se.value.kahvaltiDahil,havluVerildi:se.value.havluVerildi,prizVerildi:se.value.prizVerildi},Se.value=!1}function ia(){Se.value=!1,console.log("Ek hizmetler kaydedildi:",V.value)}function Xe(){if(Je.value)return;const n=[];n.push("Dönem Yenileme: ");const d=(o.value.KnklmNot||"").match(/Oda Değişti, Eski Oda: [^-/]+/);if(d){const K=typeof o.value.OdaYatak=="string"?o.value.OdaYatak:o.value.OdaYatak&&typeof o.value.OdaYatak=="object"?o.value.OdaYatak.value:"",T=o.value.eskiOdaYatak;K&&T&&K.replace(" (mevcut)","")!==T&&n.push(d[0])}if(o.value.HesaplananBedel>0&&o.value.ToplamBedel>0){const K=o.value.HesaplananBedel,T=o.value.ToplamBedel;if(T<K){const L=Math.round((K-T)/K*100);n.push(`İskonto Yapıldı: %${L}`)}else if(T>K){const L=Math.round((T-K)/K*100);n.push(`Artış Yapıldı: %${L}`)}}o.value.KonaklamaTipi==="GÜNLÜK"&&!V.value.kahvaltiDahil&&n.push("Kahvaltısız"),V.value.havluVerildi&&n.push("Havlu Verildi"),V.value.prizVerildi&&n.push("Priz Verildi");const S=n.length>0?n.join(" -/- "):"Dönem Yenileme: ";o.value.KnklmNot=S,re.value=S}function Ve(n){console.log("🎯 parseEkHizmetlerFromNotes - BAŞLANGIÇ"),console.log("🎯 DEBUG: Gelen notlar:",n),console.log("🎯 DEBUG: formData.value.KonaklamaTipi:",o.value.KonaklamaTipi),V.value={kahvaltiDahil:o.value.KonaklamaTipi==="GÜNLÜK",havluVerildi:!1,prizVerildi:!1},console.log("🎯 DEBUG: İlk ek hizmetler state:",JSON.stringify(V.value)),n.includes("Havlu Verildi")&&(V.value.havluVerildi=!0,console.log("🎯 DEBUG: Havlu Verildi bulundu")),n.includes("Priz Verildi")&&(V.value.prizVerildi=!0,console.log("🎯 DEBUG: Priz Verildi bulundu")),n.includes("Kahvaltısız")?(V.value.kahvaltiDahil=!1,console.log("🎯 DEBUG: Kahvaltısız bulundu")):o.value.KonaklamaTipi==="GÜNLÜK"&&(V.value.kahvaltiDahil=!0,console.log("🎯 DEBUG: Günlük konaklama, kahvaltı dahil")),console.log("🎯 DEBUG: Final ek hizmetler state:",JSON.stringify(V.value))}const Te=_(!1),N=_({gunlukBedel:0,kalanGun:0,giderBedel:0,yeniOdaTipiGunlukBedel:0,gelirBedel:0,tahsilEdilecekBedel:0,ekNotlar:""});function oa(n){return Math.round((n+Number.EPSILON)*100)/100}const ca=_(0);function ma(){ca.value=Number(m.selectedData?.KnklmNfyt)||0;const n=ca.value,i=Oe(m.selectedData?.KnklmPlnTrh||"",m.selectedData?.KnklmGrsTrh||""),d=i>0?Math.floor(n/i):0,S=m.selectedData?.KnklmPlnTrh,K=new Date;let T=0;if(S){const[O=0,$=0,E=0]=S.split(".").map(ne=>Number(ne)||0),U=new Date(E,$-1,O);T=Math.max(0,Math.ceil((U.getTime()-K.getTime())/(1e3*60*60*24)))}let L=d*T;L=oa(L);let ae=0,X=0,R=0;i>0&&(ae=Math.floor(Number(o.value.ToplamBedel)/o.value.KonaklamaSuresi),ae=oa(ae),X=ae*T,X=oa(X),R=X-L,R=oa(R));const _e=m.selectedData?`${m.selectedData.KnklmOdaNo} - ${m.selectedData.KnklmYtkNo}`:"";let me="";typeof o.value.OdaYatak=="object"&&o.value.OdaYatak?me=String(o.value.OdaYatak.value).split("-").join(" - "):typeof o.value.OdaYatak=="string"&&(me=o.value.OdaYatak.split("-").join(" - "));const De=o.value.KnklmNot||"",xe=`ODA DEĞİŞİMİ: eski ${_e} ---> yeni ${me}`;let Ee="";R>0?Ee=`ODA DEĞİŞİMİ - TAHSİL EDİLECEK BEDEL: ${R.toFixed(2)} TL`:R<0&&(Ee=`ODA DEĞİŞİMİ - İADE EDİLECEK BEDEL: ${Math.abs(R).toFixed(2)} TL`);let c=xe;Ee&&(c+=" -/- "+Ee),De&&!De.includes(xe)&&(c=De+" -/- "+c),c=c.replace(/( -\/- )?ODA DEĞİŞİMİ[^-]*/g,(O,$,E)=>E===0?O:""),c=c.replace(/( -\/- )+/g," -/- "),c=c.replace(/^ -\/- /,""),c=c.trim(),o.value.KnklmNot=c,re.value=o.value.KnklmNot,N.value={gunlukBedel:d,kalanGun:T,giderBedel:L,yeniOdaTipiGunlukBedel:ae,gelirBedel:X,tahsilEdilecekBedel:R,ekNotlar:c},Te.value=!0}const Je=_(!1);async function va(){console.log("[onOdaDegisikligiOnayla] FONKSİYON BAŞI");try{Pe.value=!0,D.notify({message:"Oda değişikliği onaylanıyor... Tüm işlemler güvenli transaction ile yapılıyor.",color:"info",position:"top",timeout:2e3});const n=typeof o.value.OdaYatak=="string"?o.value.OdaYatak:o.value.OdaYatak&&typeof o.value.OdaYatak=="object"?o.value.OdaYatak.value:"",[i,d]=n.replace(" (mevcut)","").split("-"),[S,K]=(m.selectedData?.KnklmOdaNo+"-"+m.selectedData?.KnklmYtkNo).split("-"),T={tcNo:m.selectedData?.MstrTCN||"",eskiOdaNo:S,eskiYatakNo:K,yeniOdaNo:i,yeniYatakNo:d,yeniOdaTip:o.value.KnklmOdaTip,yeniOdaYatak:n,konaklamaSuresi:N.value.kalanGun,konaklamaTipi:o.value.KonaklamaTipi,hesaplananBedel:o.value.HesaplananBedel,toplamBedel:o.value.ToplamBedel,giderBedel:N.value.giderBedel,gelirBedel:N.value.gelirBedel,eskiPlnTrh:m.selectedData?.KnklmPlnTrh||"",ekNotlar:o.value.KnklmNot};console.log("Oda değişikliği onaylama request data:",T);const L=await J.post("oda-degisikligi-onayla",T);if(console.log("Backend response:",L.data),L.data.success)D.notify({message:"✅ "+L.data.message,color:"positive",position:"top",timeout:3e3,actions:[{icon:"close",color:"white",handler:()=>{}}]}),setTimeout(()=>{Te.value=!1,z(),g("refresh"),g("success"),console.log("[onOdaDegisikligiOnayla] Tüm işlemler tamamlandı: Dialog kapandı, Modal kapandı, Sayfa güncellendi")},3e3);else throw new Error(L.data.message||"Oda değişikliği onaylama işlemi başarısız")}catch(n){console.error("onOdaDegisikligiOnayla hatası:",n);let i="Oda değişikliği onaylanırken beklenmeyen bir hata oluştu";n instanceof Error&&(i=n.message),D.notify({message:`❌ ${i}

🔒 Veri güvenliği için hiçbir değişiklik kaydedilmedi.`,color:"negative",position:"top",timeout:5e3,multiLine:!0})}finally{Pe.value=!1}console.log("[onOdaDegisikligiOnayla] FONKSİYON SONU")}async function pa(){try{Pe.value=!0,D.notify({message:"Oda değişikliği işlemi güvenli transaction ile başlatılıyor...",color:"info",position:"top",timeout:2e3}),console.log("=== direktOdaDegisikligiYap başlatıldı ==="),console.log("formData.value:",o.value),console.log("hesaplamaDetay.value:",Re.value);const n=Re.value?.onaylanmisFiyat||0,i=we(o.value.OdaYatak);let d=o.value.KnklmNot||"";if(d.startsWith("Dönem Yenileme: ")&&(d=d.substring(16)),n!==0){const X=n>0?`Tahsil edilecek: ${n} TL`:`İade edilecek: ${Math.abs(n)} TL`;d=d?`${d} - ${X}`:X}const S={tcNo:m.selectedData?.MstrTCN||"",eskiOdaNo:i.eskiOdaNo,eskiYatakNo:i.eskiYatakNo,yeniOdaTip:o.value.KnklmOdaTip,yeniOdaNo:i.yeniOdaNo,yeniYatakNo:i.yeniYatakNo,yeniOdaYatak:o.value.OdaYatak,konaklamaNot:d,hesaplananBedel:n};console.log("Request payload for direkt-oda-degisikligi:",S);const K=m.selectedData?.KnklmGrsTrh;let T=!1;if(K){const[X=0,R=0,_e=0]=K.split(".").map(E=>Number(E)||0),me=new Date(_e,R-1,X),De=new Date().getDate(),xe=new Date().getMonth()+1,Ee=new Date().getFullYear(),c=me.getDate(),O=me.getMonth()+1,$=me.getFullYear();T=De===c&&xe===O&&Ee===$}const L=T?"/direkt-oda-degisikligi-konaklama-suresi-1":"/direkt-oda-degisikligi";console.log(`Endpoint seçildi: ${T?"İlk gün endpoint":"Normal endpoint"}`);const ae=await J.post(L,S);if(console.log("API response:",ae.data),ae.data.success)D.notify({message:"✅ Oda değişikliği başarıyla tamamlandı! Tüm işlemler güvenli bir şekilde kaydedildi.",color:"positive",position:"top",timeout:3e3}),g("success"),Ce();else throw new Error(ae.data.message||"Oda değişikliği işlemi başarısız")}catch(n){console.error("direktOdaDegisikligiYap hatası:",n);let i="Oda değişikliği sırasında beklenmeyen bir hata oluştu";n instanceof Error&&(i=n.message),D.notify({message:`❌ ${i}

🔒 Veri güvenliği için hiçbir değişiklik kaydedilmedi.`,color:"negative",position:"top",timeout:5e3,multiLine:!0})}finally{Pe.value=!1}}function sa(){const n=m.selectedData?.KnklmNot||"";let i="";n.startsWith(" - Yeni Giriş: ")?i=" - Yeni Giriş: ":n.startsWith(" - Yeni Müşteri: ")?i=" - Yeni Müşteri: ":n.startsWith("Dönem Yenileme: ")&&(i="Dönem Yenileme: "),i&&(re.value.startsWith(i)||(re.value=i+re.value.replace(/^(- Yeni Giriş: | - Yeni Müşteri: |Dönem Yenileme: )/,"")),o.value.KnklmNot.startsWith(i)||(o.value.KnklmNot=i+o.value.KnklmNot.replace(/^(- Yeni Giriş: | - Yeni Müşteri: |Dönem Yenileme: )/,"")))}Ca(()=>{console.log("[DonemYenilemeModal] Component MOUNT edildi!"),sa()});const ze=_(!1);pe(()=>o.value.ToplamBedel,(n,i)=>{console.log("[watch:ToplamBedel] Değişti:",i,"->",n)}),pe(()=>o.value.HesaplananBedel,(n,i)=>{console.log("[watch:HesaplananBedel] Değişti:",i,"->",n)}),k();const Ze=_(!1),Ae=_({gunlukBedel:0,kalanGun:0,giderBedel:0,iadeBedel:0,ekNotlar:""});function ba(){const n=Number(m.selectedData?.KnklmNfyt)||0,i=m.selectedData?.KnklmGrsTrh||"",d=m.selectedData?.KnklmPlnTrh||"",S=new Date,K=Oe(d,i),T=K>0?Math.floor(n/K):0;let L=0;if(d){const[_e=0,me=0,De=0]=d.split(".").map(Ee=>Number(Ee)||0),xe=new Date(De,me-1,_e);L=Math.max(0,Math.ceil((xe.getTime()-S.getTime())/(1e3*60*60*24)))}const ae=L*T,X=ae,R=`ERKEN ÇIKIŞ - İADE EDİLECEK BEDEL: ${X} TL`;Ae.value={gunlukBedel:T,kalanGun:L,giderBedel:ae,iadeBedel:X,ekNotlar:R},re.value=R,o.value.KnklmNot=R,Ze.value=!0}function fa(){Ze.value=!1,oe({giderTutar:Ae.value.giderBedel,hesaplananEkNot:Ae.value.ekNotlar,dialogdanMi:!0})}return(n,i)=>(W(),ge(Ea,null,[s(ua,{"model-value":n.modelValue,"onUpdate:modelValue":z,"no-esc-dismiss":"","no-backdrop-dismiss":"",class:"floating-dialog"},{default:u(()=>[s(Be,{class:"q-pa-sm draggable-card",style:{width:"900px","max-width":"95vw","border-radius":"28px"}},{default:u(()=>[s(he,{class:"row items-center q-pb-sm q-pt-sm"},{default:u(()=>[r("div",Rt,p(F.value),1),s(xa)]),_:1}),s(he,{class:"q-pt-none"},{default:u(()=>[r("div",Gt,[r("div",Ht,[s(it,{onSubmit:i[18]||(i[18]=Jl(()=>{},["prevent"])),class:"q-gutter-xs"},{default:u(()=>[r("div",zt,[r("div",It,[r("div",Ut,[r("div",jt,[s(ye,{modelValue:o.value.MstrHspTip,"onUpdate:modelValue":i[0]||(i[0]=d=>o.value.MstrHspTip=d),label:"Hesap Tipi",outlined:"",dense:"",readonly:"",color:"orange-4","label-color":"orange-4",class:"kurumsal-responsive"},null,8,["modelValue"])]),r("div",Qt,[s(ye,{modelValue:o.value.MstrFirma,"onUpdate:modelValue":i[1]||(i[1]=d=>o.value.MstrFirma=d),label:"Firma",outlined:"",color:"orange-4","label-color":"orange-4",dense:"",readonly:"",class:"kurumsal-responsive",placeholder:o.value.MstrHspTip==="Bireysel"?"Bireysel müşteri":"Firma bilgisi yok"},null,8,["modelValue","placeholder"])])])]),r("div",Wt,[r("div",Xt,[r("div",Jt,[s(ye,{modelValue:o.value.MstrTCN,"onUpdate:modelValue":i[2]||(i[2]=d=>o.value.MstrTCN=d),label:"TC Kimlik No / Pasaport No",dense:"",outlined:"",color:"primary","label-color":"primary",class:"kurumsal-responsive",readonly:""},null,8,["modelValue"])]),r("div",Zt,[s(ye,{modelValue:o.value.MstrTelNo,"onUpdate:modelValue":i[3]||(i[3]=d=>o.value.MstrTelNo=d),label:"Telefon No",color:"primary","label-color":"primary",dense:"",outlined:"",readonly:"",class:"kurumsal-responsive"},null,8,["modelValue"])])]),r("div",ei,[r("div",ai,[s(ye,{modelValue:o.value.MstrAdi,"onUpdate:modelValue":i[4]||(i[4]=d=>o.value.MstrAdi=d),label:"Müşteri Adı",dense:"",outlined:"",color:"primary","label-color":"primary",class:"kurumsal-responsive",readonly:""},null,8,["modelValue"])])])]),r("div",li,[r("div",ti,[r("div",ii,[s(Ma,{modelValue:o.value.KnklmOdaTip,"onUpdate:modelValue":[i[5]||(i[5]=d=>o.value.KnklmOdaTip=d),Qe],options:G.value,label:"Oda Tipi",outlined:"",dense:"",color:"green-6","label-color":"green-6",required:"",class:"kurumsal-responsive oda-select-field",style:{"font-size":"0.75rem"}},{"no-option":u(()=>[s(Da,{dense:""},{default:u(()=>[s(Ba,{class:"text-grey"},{default:u(()=>i[27]||(i[27]=[x(" Oda tipi bulunamadı ")])),_:1,__:[27]})]),_:1})]),option:u(d=>[s(Da,ll(d.itemProps,{style:{"min-height":"28px",padding:"2px 12px"}}),{default:u(()=>[s(Ba,null,{default:u(()=>[s(il,{style:{"font-size":"0.75rem","line-height":"1.1"}},{default:u(()=>[x(p(d.opt),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),default:u(()=>[o.value.KnklmOdaTip?(W(),Me(Ie,{key:0,class:"bg-green-6 text-white text-body2",delay:300},{default:u(()=>[s(qe,{name:"info",class:"q-mr-xs"}),x(" Seçilen oda tipi: "+p(o.value.KnklmOdaTip),1)]),_:1})):ce("",!0)]),_:1},8,["modelValue","options"])]),r("div",oi,[s(Ma,{modelValue:o.value.OdaYatak,"onUpdate:modelValue":[i[6]||(i[6]=d=>o.value.OdaYatak=d),Ge],options:ee.value,label:"Oda No - Yatak No",outlined:"",dense:"",color:"green-6","label-color":"green-6",disable:!o.value.KnklmOdaTip,required:"",class:"kurumsal-responsive oda-select-field",style:{"font-size":"0.75rem"}},{"no-option":u(()=>[s(Da,{dense:""},{default:u(()=>[s(Ba,{class:"text-grey"},{default:u(()=>[x(p(o.value.KnklmOdaTip?"Boş oda/yatak bulunamadı":"Önce oda tipi seçin"),1)]),_:1})]),_:1})]),option:u(d=>[s(Da,ll(d.itemProps,{style:{"min-height":"28px",padding:"2px 12px"}}),{default:u(()=>[s(Ba,null,{default:u(()=>[s(il,{style:{"font-size":"0.75rem","line-height":"1.1"},title:d.opt.label},{default:u(()=>[x(p(d.opt.label),1)]),_:2},1032,["title"])]),_:2},1024)]),_:2},1040)]),default:u(()=>[o.value.OdaYatak?(W(),Me(Ie,{key:0,class:"bg-green-6 text-white text-body2",delay:300},{default:u(()=>[s(qe,{name:"check_circle",class:"q-mr-xs"}),x(" Seçilen oda-yatak: "+p(o.value.OdaYatak),1)]),_:1})):ce("",!0)]),_:1},8,["modelValue","options","disable"])])]),r("div",ni,[r("div",si,[s(ye,{modelValue:o.value.KonaklamaSuresi,"onUpdate:modelValue":[i[7]||(i[7]=d=>o.value.KonaklamaSuresi=d),Fe],modelModifiers:{number:!0},label:le.value,outlined:"",color:"green-6","label-color":"green-6",dense:"",type:"number",min:1,max:30,required:"",class:"kurumsal-responsive konaklama-field",readonly:Y.value},null,8,["modelValue","label","readonly"])]),r("div",ri,[s(ye,{modelValue:o.value.KonaklamaTipi,"onUpdate:modelValue":i[8]||(i[8]=d=>o.value.KonaklamaTipi=d),label:"Konaklama Tipi",outlined:"",color:"green-6","label-color":"green-6",dense:"",readonly:"",class:Q(["kurumsal-responsive konaklama-field konaklama-readonly",{"text-weight-medium":o.value.KonaklamaTipi}])},null,8,["modelValue","class"])]),r("div",ui,[y.value==="ODA DEĞİŞİKLİ"?(W(),Me(ye,{key:0,"model-value":m.selectedData?.KnklmPlnTrh||"",label:"Planlanan Çıkış Tarihi",outlined:"",color:"teal-6","label-color":"teal-6",dense:"",readonly:"",class:"kurumsal-responsive konaklama-field"},null,8,["model-value"])):(W(),Me(ye,{key:1,modelValue:o.value.KnklmPlnTrh,"onUpdate:modelValue":i[9]||(i[9]=d=>o.value.KnklmPlnTrh=d),label:"Planlanan Çıkış Tarihi",outlined:"",color:"teal-6","label-color":"teal-6",dense:"",readonly:"",class:"kurumsal-responsive konaklama-field"},null,8,["modelValue"]))])])]),r("div",di,[r("div",ci,[r("div",mi,[s(ye,{modelValue:o.value.HesaplananBedel,"onUpdate:modelValue":i[10]||(i[10]=d=>o.value.HesaplananBedel=d),modelModifiers:{number:!0},label:"Otomatik Hesaplanan Bedel (TL)",outlined:"",color:"purple-6","label-color":Zl(D).dark.isActive?"purple-3":"purple-6",dense:"",readonly:"",class:Q(["kurumsal-responsive hesaplanan-bedel-field",{"text-weight-medium":o.value.HesaplananBedel>0}])},null,8,["modelValue","label-color","class"])]),r("div",vi,[s(ye,{modelValue:o.value.ToplamBedel,"onUpdate:modelValue":[i[11]||(i[11]=d=>o.value.ToplamBedel=d),la],modelModifiers:{number:!0},label:"Toplam Konaklama Bedeli (TL)",outlined:"",color:"orange-6","label-color":"orange-6",dense:"",type:"number",min:0,required:"",class:"kurumsal-responsive bedel-field"},null,8,["modelValue"])]),r("div",fi,[s(ye,{modelValue:o.value.OdemeVadesi,"onUpdate:modelValue":i[13]||(i[13]=d=>o.value.OdemeVadesi=d),label:"Ödeme Vadesi",outlined:"",color:"teal-6","label-color":"teal-6",dense:"",readonly:"",class:"kurumsal-responsive odeme-vadesi-field"},{append:u(()=>[s(qe,{name:"event",class:"cursor-pointer"},{default:u(()=>[s(ot,{cover:"","transition-show":"scale","transition-hide":"scale",ref_key:"odemeVadesiPopup",ref:b},{default:u(()=>[s(nt,{modelValue:o.value.OdemeVadesi,"onUpdate:modelValue":[i[12]||(i[12]=d=>o.value.OdemeVadesi=d),Ye],mask:"DD.MM.YYYY",locale:{days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],daysShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"]},minimal:""},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])])]),r("div",ki,[r("div",gi,[s(ie,{onClick:ta,label:"Ek Hizmetler",color:"orange",outline:"",icon:"room_service",class:"proportional-btn ek-hizmetler-btn",size:"md"})]),r("div",yi,[s(ie,{onClick:q,label:y.value,color:"blue",loading:h.value,class:"proportional-btn donem-yenile-btn",size:"md",icon:"autorenew"},null,8,["label","loading"])]),r("div",pi,[s(ie,{onClick:ve,label:H.value,color:"red",loading:h.value,class:"proportional-btn cikis-yap-btn",size:"md",icon:"logout"},null,8,["label","loading"])]),r("div",bi,[s(ra,{modelValue:Z.value,"onUpdate:modelValue":i[14]||(i[14]=d=>Z.value=d),label:"Kara Liste",color:"red",class:"kara-liste-checkbox",dense:""},null,8,["modelValue"])]),r("div",hi,[s(ie,{onClick:z,label:"İPTAL",color:"grey",outline:"",class:"proportional-btn iptal-btn",size:"md"})])]),Z.value?(W(),ge("div",Ti,[r("div",Ki,[s(ye,{modelValue:I.value,"onUpdate:modelValue":i[15]||(i[15]=d=>I.value=d),outlined:"",color:"red-6","label-color":"red-6",dense:"",type:"textarea",rows:"3",placeholder:"Kara listeye alınma sebebini detaylandırın... (En az 10 karakter zorunlu)",class:"kurumsal-responsive kara-liste-textbox"},null,8,["modelValue"])])])):ce("",!0)]),r("div",wi,[s(ye,{modelValue:re.value,"onUpdate:modelValue":i[16]||(i[16]=d=>re.value=d),onInput:i[17]||(i[17]=d=>Je.value=!0),label:"Ek Notlar",outlined:"",color:"indigo-6","label-color":"indigo-6",dense:"",class:"kurumsal-responsive"},null,8,["modelValue"])])])]),_:1})])])]),_:1}),s(ua,{modelValue:Se.value,"onUpdate:modelValue":i[22]||(i[22]=d=>Se.value=d),"no-esc-dismiss":"","no-backdrop-dismiss":"",class:"floating-dialog"},{default:u(()=>[s(Be,{class:"ek-hizmetler-dialog draggable-card",style:{width:"300px","max-width":"300px"}},{default:u(()=>[s(he,{class:"q-pt-sm"},{default:u(()=>[r("div",Ci,[r("div",Ni,[s(ra,{modelValue:V.value.kahvaltiDahil,"onUpdate:modelValue":i[19]||(i[19]=d=>V.value.kahvaltiDahil=d),label:"Kahvaltı Dahil",color:"primary",disable:o.value.KonaklamaTipi!=="GÜNLÜK"},null,8,["modelValue","disable"]),s(ra,{modelValue:V.value.havluVerildi,"onUpdate:modelValue":i[20]||(i[20]=d=>V.value.havluVerildi=d),label:"Havlu Verildi",color:"primary"},null,8,["modelValue"]),s(ra,{modelValue:V.value.prizVerildi,"onUpdate:modelValue":i[21]||(i[21]=d=>V.value.prizVerildi=d),label:"Priz Verildi",color:"primary"},null,8,["modelValue"])])])]),_:1}),s(ga,{align:"right"},{default:u(()=>[s(ie,{flat:"",label:"İptal",color:"grey",onClick:da}),s(ie,{flat:"",label:"Tamam",color:"primary",onClick:ia})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model-value"]),s(ua,{modelValue:Te.value,"onUpdate:modelValue":i[24]||(i[24]=d=>Te.value=d)},{default:u(()=>[s(Be,{style:{"min-width":"350px","max-width":"95vw"}},{default:u(()=>[s(he,null,{default:u(()=>[i[38]||(i[38]=r("div",{class:"text-h6"},"ODA DEĞİŞİKLİĞİ HESAPLAMA",-1)),r("div",Oi,[r("div",null,[i[28]||(i[28]=r("b",null,"Eski Günlük Konaklama Bedeli:",-1)),x(" "+p(N.value.gunlukBedel.toFixed(2))+" TL",1)]),r("div",null,[i[29]||(i[29]=r("b",null,"Çıkışa Kalan Gün:",-1)),x(" "+p(N.value.kalanGun)+" gün",1)]),r("div",null,[i[30]||(i[30]=r("b",null,"GİDER Yazılacak Bedel:",-1)),x(" "+p(N.value.giderBedel.toFixed(2))+" TL",1)]),r("div",null,[i[31]||(i[31]=r("b",null,"Yeni Oda Tipi Günlük Bedel:",-1)),x(" "+p(N.value.yeniOdaTipiGunlukBedel.toFixed(2))+" TL",1)]),r("div",null,[i[32]||(i[32]=r("b",null,"GELİR Yazılacak Bedel:",-1)),x(" "+p(N.value.gelirBedel.toFixed(2))+" TL",1)]),N.value.tahsilEdilecekBedel>0?(W(),ge(Ea,{key:0},[i[34]||(i[34]=r("div",{style:{height:"1em"}},null,-1)),r("div",null,[i[33]||(i[33]=r("b",null,"TAHSİL EDİLECEK BEDEL:",-1)),x(" "+p(N.value.tahsilEdilecekBedel.toFixed(2))+" TL",1)])],64)):N.value.tahsilEdilecekBedel<0?(W(),ge(Ea,{key:1},[i[36]||(i[36]=r("div",{style:{height:"1em"}},null,-1)),r("div",null,[i[35]||(i[35]=r("b",null,"İADE EDİLECEK BEDEL:",-1)),x(" "+p(Math.abs(N.value.tahsilEdilecekBedel).toFixed(2))+" TL",1)])],64)):ce("",!0)]),N.value.ekNotlar?(W(),ge("div",_i,[i[37]||(i[37]=r("label",{class:"text-subtitle2 text-weight-bold text-primary"},"Ek Notlar:",-1)),r("label",Di,p(N.value.ekNotlar),1)])):ce("",!0),i[39]||(i[39]=r("div",{class:"q-mt-lg text-bold"},"ODA DEĞİŞİKLİĞİNİ ONAYLIYOR MUSUNUZ?",-1))]),_:1,__:[38,39]}),s(ga,{align:"right"},{default:u(()=>[s(ie,{flat:"",label:"Hayır",color:"negative",onClick:i[23]||(i[23]=d=>Te.value=!1)}),s(ie,{flat:"",label:"Evet",color:"positive",onClick:va})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(ua,{modelValue:Ze.value,"onUpdate:modelValue":i[26]||(i[26]=d=>Ze.value=d)},{default:u(()=>[s(Be,{style:{"min-width":"350px","max-width":"95vw"}},{default:u(()=>[s(he,null,{default:u(()=>[i[47]||(i[47]=r("div",{class:"text-h6"},"ERKEN ÇIKIŞ HESAPLAMA",-1)),r("div",Bi,[r("div",null,[i[40]||(i[40]=r("b",null,"Oda Günlük Konaklama Bedeli:",-1)),x(" "+p(Ae.value.gunlukBedel.toFixed(2))+" TL",1)]),r("div",null,[i[41]||(i[41]=r("b",null,"Çıkışa Kalan Gün:",-1)),x(" "+p(Ae.value.kalanGun)+" gün",1)]),r("div",null,[i[42]||(i[42]=r("b",null,"Gider yazılacak bedel:",-1)),x(" "+p(Ae.value.giderBedel.toFixed(2))+" TL",1)]),i[45]||(i[45]=r("div",{style:{height:"1em"}},null,-1)),r("div",null,[i[43]||(i[43]=r("b",null,"İADE EDİLECEK BEDEL:",-1)),x(" "+p(Ae.value.iadeBedel.toFixed(2))+" TL",1)]),i[46]||(i[46]=r("div",{style:{height:"1em"}},null,-1)),Ae.value.ekNotlar?(W(),ge("div",Si,[i[44]||(i[44]=r("label",{class:"text-subtitle2 text-weight-bold text-primary"},"Ek Notlar:",-1)),r("label",xi,p(Ae.value.ekNotlar),1)])):ce("",!0)]),i[48]||(i[48]=r("div",{class:"q-mt-lg text-bold"},"ERKEN ÇIKIŞ İŞLEMİNİ ONAYLIYOR MUSUNUZ?",-1))]),_:1,__:[47,48]}),s(ga,{align:"right"},{default:u(()=>[s(ie,{flat:"",label:"İptal",color:"grey",onClick:i[25]||(i[25]=d=>Ze.value=!1)}),s(ie,{flat:"",label:"EVET",color:"primary",onClick:fa})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Vi=fl(Mi,[["__scopeId","data-v-5e0d836f"]]),Ai={class:"stats-cards-container"},Li={class:"stats-card-wrapper"},Ei={class:"text-h5"},Pi={class:"stats-card-wrapper"},Fi={class:"text-h5"},$i={class:"stats-card-wrapper"},Yi={class:"text-h5"},qi={class:"stats-card-wrapper"},Ri={class:"text-h5"},Gi={class:"stats-card-wrapper"},Hi={class:"text-h5"},zi={class:"stats-card-wrapper"},Ii={class:"text-h5"},Ui={class:"stats-card-wrapper"},ji={class:"text-h5"},Qi={class:"stats-card-wrapper"},Wi={class:"text-h5"},Xi={class:"stats-card-wrapper"},Ji={class:"text-h5"},Zi={class:"row q-gutter-sm q-mb-sm items-center"},eo={class:"col-12 col-sm-3 col-md-2"},ao={key:0,class:"col-12 col-sm-3 col-md-2"},lo={class:"col-auto"},to={key:1,class:"col-auto"},io={class:"col-auto q-ml-auto row items-center q-gutter-md"},oo={key:0,class:"row items-center q-gutter-sm"},no={key:1,class:"row items-center q-gutter-sm"},so={class:"row items-center q-gutter-sm"},ro={class:"flex items-center"},uo={class:"text-weight-bold text-green"},co={class:"text-weight-bold"},mo={class:"text-weight-bold text-red"},vo={class:"text-weight-bold"},fo={class:"text-weight-bold text-green"},ko={class:"text-h6 text-primary table-header-row"},go={key:0},yo={key:1},po={key:2},bo={class:"text-weight-bold"},ho={class:"text-h6 text-primary table-header-row"},To={key:0},Ko={key:1},wo={key:2},Co={class:"flex items-center"},No={class:"text-weight-bold text-green"},Oo={class:"row q-gutter-md"},_o={class:"col-12"},Do={class:"col-12"},Bo={class:"col-12"},So={class:"col-12"},xo={class:"col-12"},Mo={class:"col-12"},Vo={class:"col-12"},Ao={class:"col-12"},Lo={class:"col-12"},Eo={key:0,class:"col-12"},Po={class:"row q-gutter-md"},Fo={class:"col-12"},$o={class:"col-12"},Yo={class:"col-12"},qo={class:"col-12"},Ro={class:"col-12"},Go={class:"col-12"},Ho={class:"text-center q-mb-md"},zo={class:"q-mb-md"},Io={class:"q-pl-md"},Uo={key:0},jo={key:1},Qo={key:2},Wo={key:3},Xo=ml({__name:"kartli-islem",setup(t){const k=at(),f=_(!1),m=_([]),g=_([]),D=_([]),b=_(!1),h=_(!1),w=_({}),G=_(["TÜMÜ"]),y=_("TÜMÜ"),H=_(!1),Y=_(null),F=_(null),le=_(0),q=_(""),z=_([]),ve=_([]),fe=_([]),Ke=_(!1),oe=_(null),A=_(null),ee=_(!1),be=_([]),Se=_(!1),V=_(null),se=_(!1),re=_([]),Pe=_(!1),Re=_(!1),we=_(null),Ce=_(0),Z=_(0),I=_(!1),o=_(""),Ye=_(!1),Ne=_(null),Oe=_(!1),Ue=_(!1),je=_(!1),na=_(!1),Qe=_({sortBy:"KnklmPlnTrh",descending:!1,page:1,rowsPerPage:10}),Ge=_({sortBy:"knklmNo",descending:!0,page:1,rowsPerPage:10}),Fe=M(()=>b.value?He.value.reduce((a,e)=>a+(e.BorcTutari||0),0):h.value?-da.value.reduce((a,e)=>a+(e.AlacakTutari||0),0):We.value.reduce((a,e)=>a+(e.KnklmNfyt||0),0)),la=M(()=>b.value?g.value.length>Je.value.rowsPerPage:h.value?D.value.length>va.value.rowsPerPage:m.value.length>Qe.value.rowsPerPage),We=M(()=>{let a=m.value;return q.value&&q.value.length>=3&&(a=z.value),I.value&&o.value&&(a=a.filter(e=>e.MstrFirma===o.value)),a}),He=M(()=>{let a=g.value;return q.value&&q.value.length>=3&&(a=ve.value),I.value&&o.value&&(a=a.filter(e=>e.MstrFirma&&e.MstrFirma===o.value)),a}),ta=M(()=>{if(!q.value||q.value.length<3)return D.value;const a=q.value.toLowerCase();return D.value.filter(e=>Object.values(e).some(l=>l==null?!1:String(l).toLowerCase().includes(a)))}),da=M(()=>{let a=D.value;return q.value&&q.value.length>=3&&(a=ta.value),I.value&&o.value&&(a=a.filter(e=>e.MstrFirma&&e.MstrFirma===o.value)),a}),ia=M(()=>!q.value||q.value.length<3?be.value:fe.value),Xe=M(()=>re.value);let Ve=!1;pe(()=>[Qe.value.sortBy,Qe.value.descending],()=>{Ve||(console.log("Pagination izleyici tetiklendi - sıralama API çağrısı engelleniyor"),Ve=!0)}),pe(()=>Ke.value,(a,e)=>{e===!0&&a===!1&&(Ce.value=0,Z.value=0,console.log("Dönem yenileme modal kapandı - müşteri ve firma bakiyesi sıfırlandı"))});function Te(a,e){const l=N(a),v=N(e);return l.getTime()-v.getTime()}function N(a){if(!a)return new Date(0);const e=a.split(".");if(e.length!==3)return new Date(0);const l=parseInt(e[0]||"0",10),v=parseInt(e[1]||"0",10)-1,C=parseInt(e[2]||"0",10);return isNaN(l)||isNaN(v)||isNaN(C)?new Date(0):new Date(C,v,l)}const oa=[{name:"MstrTCN",required:!0,label:"TC Kimlik",align:"left",field:"MstrTCN",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return a.localeCompare(e);const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"MstrAdi",required:!0,label:"Müşteri Adı",align:"left",field:"MstrAdi",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return a.localeCompare(e);const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"MstrFirma",label:"Firma",align:"left",field:"MstrFirma",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"MstrTelNo",label:"Telefon",align:"left",field:"MstrTelNo",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"KnklmOdaTip",label:"Oda Tipi",align:"center",field:"KnklmOdaTip",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"KnklmOdaNo",label:"Oda-Yatak",align:"center",field:"KnklmOdaNo",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"KnklmTip",label:"Konaklama Tipi",align:"center",field:"KnklmTip",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"KnklmNfyt",label:"Tutar",align:"right",field:"KnklmNfyt",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return a-e;const C=N(l.KnklmGrsTrh);return N(v.KnklmGrsTrh).getTime()-C.getTime()}},{name:"KnklmGrsTrh",label:"Giriş Tarihi",align:"center",field:"KnklmGrsTrh",sortable:!0,format:a=>R(a),sort:Te},{name:"KnklmPlnTrh",label:"Planlanan Çıkış",align:"center",field:"KnklmPlnTrh",sortable:!0,sort:Te},{name:"actions",label:"Detaylar",align:"center",field:"actions"}],ca=[{name:"cKytTarihi",label:"Kayıt Tarihi",align:"center",field:"cKytTarihi",sortable:!0,format:a=>R(a),sort:Te},{name:"CariKllnc",label:"Kullanıcı",align:"left",field:"CariKllnc",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariKod",label:"Cari Kod",align:"left",field:"CariKod",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariAdi",label:"Müşteri Adı",align:"left",field:"CariAdi",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariVD",label:"Vergi Dairesi",align:"left",field:"CariVD",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariVTCN",label:"VT/TC No",align:"left",field:"CariVTCN",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariYetkili",label:"Yetkili",align:"left",field:"CariYetkili",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariTelNo",label:"Telefon",align:"left",field:"CariTelNo",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"BorcTutari",label:"Borç Tutarı",align:"right",field:"BorcTutari",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return a-e;const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"odemeVadesi",label:"Ödeme Vadesi",align:"center",field:"odemeVadesi",sortable:!0,format:a=>a?R(a):"-",sort:(a,e,l,v)=>{if(!a&&!e){const Ml=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-Ml.getTime()}if(!a)return 1;if(!e)return-1;const[C,P,te]=(a||"").split(".").map(Number),[Le,$e,Qa]=(e||"").split(".").map(Number),Wa=te&&P&&C?new Date(te,P-1,C).getTime():0,Xa=Qa&&$e&&Le?new Date(Qa,$e-1,Le).getTime():0;if(Wa!==Xa)return Wa-Xa;const Ja=(v.BorcTutari||0)-(l.BorcTutari||0);if(Ja!==0)return Ja;const xl=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-xl.getTime()}}],ma=[{name:"cKytTarihi",label:"Kayıt Tarihi",align:"center",field:"cKytTarihi",sortable:!0,format:a=>R(a),sort:Te},{name:"CariKllnc",label:"Kullanıcı",align:"left",field:"CariKllnc",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariKod",label:"Cari Kod",align:"left",field:"CariKod",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariAdi",label:"Müşteri Adı",align:"left",field:"CariAdi",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariVD",label:"Vergi Dairesi",align:"left",field:"CariVD",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariVTCN",label:"VT/TC No",align:"left",field:"CariVTCN",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariYetkili",label:"Yetkili",align:"left",field:"CariYetkili",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"CariTelNo",label:"Telefon",align:"left",field:"CariTelNo",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return(a||"").localeCompare(e||"");const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}},{name:"AlacakTutari",label:"Alacak Tutarı",align:"right",field:"AlacakTutari",sortable:!0,sort:(a,e,l,v)=>{if(a!==e)return a-e;const C=N(l.cKytTarihi);return N(v.cKytTarihi).getTime()-C.getTime()}}],Je=_({sortBy:"odemeVadesi",descending:!1,page:1,rowsPerPage:5}),va=_({sortBy:"AlacakTutari",descending:!0,page:1,rowsPerPage:5}),pa=_({sortBy:"iKytTarihi",descending:!0,page:1,rowsPerPage:50}),sa=M(()=>{const a=[{name:"iKytTarihi",label:"Kayıt Tarihi",align:"center",field:"iKytTarihi",sortable:!0,format:e=>R(e),sort:Te},{name:"islemKllnc",label:"Kullanıcı",align:"left",field:"islemKllnc",sortable:!0},{name:"islemOzel1",label:"Özel 1",align:"left",field:"islemOzel1",sortable:!0},{name:"islemOzel2",label:"Özel 2",align:"left",field:"islemOzel2",sortable:!0},{name:"islemOzel3",label:"Özel 3",align:"left",field:"islemOzel3",sortable:!0},{name:"islemArac",label:"Araç",align:"left",field:"islemArac",sortable:!0},{name:"islemTip",label:"İşlem Tipi",align:"center",field:"islemTip",sortable:!0},{name:"islemGrup",label:"Grup",align:"left",field:"islemGrup",sortable:!0},{name:"islemBilgi",label:"Bilgi",align:"left",field:"islemBilgi",sortable:!0},{name:"islemTutar",label:"Tutar",align:"right",field:"islemTutar",sortable:!0}];return I.value&&a.unshift({name:"CariAdi",label:"Müşteri Adı",align:"left",field:"CariAdi",sortable:!0}),a}),ze=M(()=>{const a=[];return I.value&&a.push({name:"MstrAdi",label:"Müşteri Adı",align:"left",field:"MstrAdi",sortable:!0}),a.push({name:"kKytTarihi",label:"Kayıt Tarihi",align:"center",field:"kKytTarihi",sortable:!0,format:e=>R(e),sort:Te},{name:"KnklmOdaTip",label:"Oda Tipi",align:"center",field:"KnklmOdaTip",sortable:!0},{name:"KnklmOdaNo",label:"Oda-Yatak",align:"center",field:"KnklmOdaNo",sortable:!0},{name:"KnklmTip",label:"Konaklama Tipi",align:"center",field:"KnklmTip",sortable:!0},{name:"KnklmNfyt",label:"Tutar",align:"right",field:"KnklmNfyt",sortable:!0},{name:"KnklmGrsTrh",label:"Giriş Tarihi",align:"center",field:"KnklmGrsTrh",sortable:!0,format:e=>R(e),sort:Te},{name:"KnklmPlnTrh",label:"Planlanan Çıkış",align:"center",field:"KnklmPlnTrh",sortable:!0,format:e=>R(e),sort:Te},{name:"KnklmCksTrh",label:"Çıkış Tarihi",align:"center",field:"KnklmCksTrh",sortable:!0,format:e=>R(e),sort:Te},{name:"Detaylar",label:"Detaylar",align:"center",field:"Detaylar"}),a});async function Ze(){if(Ve){console.log("Sıralama sırasında API çağrısı engellendi"),Ve=!1;return}f.value=!0;try{let a="musteri-listesi";if(F.value)switch(F.value){case"yeni-musteri":a="yeni-musteri";break;case"yeni-giris":a="yeni-giris";break;default:a=F.value;break}const e=await J.get(`/dashboard/${a}?tip=${y.value}`);e.data.success&&(m.value=[...e.data.data],console.log(`${e.data.count} kayıt yüklendi (${F.value||"varsayılan"} filtresi)`),console.log("Yüklenen veriler:",m.value.length,"kayıt"))}catch(a){console.error("Müşteri listesi yüklenemedi:",a)}finally{f.value=!1}}async function Ae(){try{const a=await J.get("/dashboard/stats");a.data.success&&(w.value=a.data.data)}catch(a){console.error("İstatistikler yüklenemedi:",a)}}async function ba(){try{const a=await J.get("/dashboard/cikis-yapanlar-sayisi");a.data.success&&(le.value=a.data.data)}catch(a){console.error("Çıkış yapanlar sayısı yüklenemedi:",a)}}async function fa(){f.value=!0;try{const a=await J.get(`/dashboard/cikis-yapanlar?tip=${y.value}`);a.data.success&&(m.value=[...a.data.data],console.log(`${a.data.count} çıkış yapan müşteri yüklendi`))}catch(a){console.error("Çıkış yapanlar listesi yüklenemedi:",a)}finally{f.value=!1}}async function n(){try{const a=await J.get("/dashboard/konaklama-tipleri");a.data.success&&(G.value=a.data.data)}catch(a){console.error("Konaklama tipleri yüklenemedi:",a)}}async function i(){f.value=!0;try{const a=await J.get("/dashboard/borclu-musteriler");a.data.success&&(g.value=[...a.data.data],console.log(`${a.data.count} borçlu müşteri yüklendi`))}catch(a){console.error("Borçlu müşteri listesi yüklenemedi:",a)}finally{f.value=!1}}async function d(){console.log("🔥 loadAlacakliMusteriler fonksiyonu çağrıldı"),f.value=!0;try{const a=await J.get("/dashboard/alacakli-musteriler");console.log("🔥 Alacaklı müşteriler API yanıtı:",a.data),a.data.success?(D.value=[...a.data.data],console.log(`🔥 ${a.data.count} alacaklı müşteri yüklendi`),console.log("🔥 Alacaklı müşteri listesi:",D.value)):console.log("🔥 API başarısız:",a.data)}catch(a){console.error("🔥 Alacaklı müşteri listesi yüklenemedi:",a)}finally{f.value=!1}}async function S(a){Se.value=!0;try{const e=await J.get(`/dashboard/cari-hareketler?cariKod=${a}`);e.data.success&&(be.value=[...e.data.data],console.log(`${e.data.count} cari hareket yüklendi`))}catch(e){console.error("Cari hareketler yüklenemedi:",e)}finally{Se.value=!1}}async function K(){se.value=!1,V.value=null,Ve=!1,await Promise.all([Ae(),n(),ba()]),!F.value||bl()===0?await Oa():Ua(F.value)}function T(a){Y.value=a,H.value=!0}function L(a,e){console.log("Row double click:",e),F.value==="cikis-yapanlar"||F.value==="bugun-cikan"?(sessionStorage.setItem("autoFillTCKimlik",e.MstrTCN),k.push("/musteri-islem")):(async()=>{let v="";const C=g.value.find(P=>P.CariVTCN===e.MstrTCN)?.OdemeVadesi;if(C&&C.trim()!=="")v=C,console.log("🔥 Borçlu müşteri listesinden ödeme vadesi bulundu:",v);else try{const P=await J.get(`/dashboard/musteri-odeme-vadesi/${encodeURIComponent(e.MstrTCN)}`);P.data.success&&P.data.data?.odemeVadesi?(v=P.data.data.odemeVadesi,console.log("🔥 Dashboard servisten ödeme vadesi hesaplandı:",v)):console.log("🔥 Ödeme vadesi hesaplanamadı veya bulunamadı")}catch(P){console.error("🔥 Ödeme vadesi hesaplama hatası:",P)}oe.value={...e,OdemeVadesi:v},Ke.value=!0})()}function ae(a,e){console.log("Borçlu müşteri satırına çift tıklandı:",e),A.value=e,ee.value=!0,S(e.CariKod),xe(e),E(e),I.value&&o.value&&console.log("Firma filtresi aktifken borçlu müşteri seçildi:",e.CariAdi)}function X(a){return a?new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(a):"0 ₺"}function R(a){return a||""}function _e(a){switch(a){case"GÜNLÜK":return"blue";case"HAFTALIK":return"orange";case"AYLIK":return"green";default:return"grey"}}function me(a){switch(a){case"GELİR":return"green";case"Çıkan":return"green";case"GİDER":return"red";case"Giren":return"red";default:return"blue"}}function De(a){switch(a){case"GELİR":return"text-green";case"Çıkan":return"text-green";case"GİDER":return"text-red";case"Giren":return"text-red";default:return"text-blue"}}async function xe(a){try{let e="";if("CariKod"in a)e=a.CariKod;else{const v=await J.get(`/musteri-bilgi/${a.MstrTCN}`);if(v.data.success&&v.data.data){const C=v.data.data.MstrNo;e=(v.data.data.MstrHspTip||a.MstrHspTip)==="Kurumsal"?`MK${C}`:`MB${C}`}}if(!e){Ce.value=0;return}const l=await J.get(`/dashboard/musteri-bakiye/${e}`);l.data.success?Ce.value=l.data.bakiye||0:Ce.value=0}catch(e){console.error("Müşteri bakiye hesaplama hatası:",e),Ce.value=0}}function Ee(a){return a>0?"text-red":a<0?"text-green":"text-grey-6"}async function c(a){try{if(!a.MstrFirma||a.MstrHspTip!=="Kurumsal"){Z.value=0;return}const e=await J.get(`/dashboard/firma-bakiye/${encodeURIComponent(a.MstrFirma)}`);e.data.success?Z.value=e.data.bakiye||0:Z.value=0}catch(e){console.error("Firma bakiye hesaplama hatası:",e),Z.value=0}}async function O(a,e){try{A.value=null,console.log("Alacaklı müşteri seçildi:",e),A.value=e,Ce.value=-(e.AlacakTutari||0),await $(e),ee.value=!0,S(e.CariKod),console.log("Alacaklı müşteri için cari hareketler yükleniyor:",e.CariKod)}catch(l){console.error("Alacaklı müşteri seçme hatası:",l)}}async function $(a){try{if(V.value={MstrTCN:"",MstrHspTip:a.MstrHspTip||"Bireysel",MstrFirma:a.MstrFirma||"",MstrAdi:a.CariAdi||"",MstrTelNo:a.CariTelNo||"",KnklmOdaTip:"",KnklmOdaNo:"",KnklmYtkNo:"",KnklmTip:"",KnklmNfyt:0,KnklmGrsTrh:"",KnklmPlnTrh:"",KnklmNot:""},!a.MstrFirma||a.MstrHspTip!=="Kurumsal"){Z.value=0,I.value||(o.value=""),I.value||(I.value=!1);return}I.value||(o.value=a.MstrFirma);const e=await J.get(`/dashboard/firma-bakiye/${encodeURIComponent(a.MstrFirma)}`);e.data.success?Z.value=e.data.bakiye||0:Z.value=0}catch(e){console.error("Alacaklı müşteri firma bakiye hesaplama hatası:",e),Z.value=0,o.value="",V.value=null}}async function E(a){try{if(V.value={MstrTCN:"",MstrHspTip:a.MstrHspTip||"Bireysel",MstrFirma:a.MstrFirma||"",MstrAdi:a.CariAdi||"",MstrTelNo:a.CariTelNo||"",KnklmOdaTip:"",KnklmOdaNo:"",KnklmYtkNo:"",KnklmTip:"",KnklmNfyt:0,KnklmGrsTrh:"",KnklmPlnTrh:"",KnklmNot:""},!a.MstrFirma||a.MstrHspTip!=="Kurumsal"){Z.value=0,I.value||(o.value=""),I.value||(I.value=!1);return}I.value||(o.value=a.MstrFirma);const e=await J.get(`/dashboard/firma-bakiye/${encodeURIComponent(a.MstrFirma)}`);e.data.success?Z.value=e.data.bakiye||0:Z.value=0}catch(e){console.error("Borçlu müşteri firma bakiye hesaplama hatası:",e),Z.value=0,o.value="",V.value=null}}function U(a){if(!a)return"";const e=a.split(".");if(e.length!==3)return"";const l=e[2]?parseInt(e[2]):0,v=e[1]?parseInt(e[1])-1:0,C=e[0]?parseInt(e[0]):0,P=new Date(l,v,C),te=new Date;return P<te?"text-red text-weight-bold":P.toDateString()===te.toDateString()?"text-orange text-weight-bold":"text-green"}function ne(a){if(!a||a.length<3){z.value=[],ve.value=[],fe.value=[];return}const e=a.toLowerCase();z.value=m.value.filter(l=>Object.values(l).some(v=>v==null?!1:String(v).toLowerCase().includes(e))),ve.value=g.value.filter(l=>Object.values(l).some(v=>v==null?!1:String(v).toLowerCase().includes(e))),fe.value=be.value.filter(l=>Object.values(l).some(v=>v==null?!1:String(v).toLowerCase().includes(e)))}function ue(a){const e=a?String(a):"";q.value=e,ne(e)}function ke(a){console.log("🔥 loadFilteredData çağrıldı:",a),F.value=a,sessionStorage.setItem("kartliIslemLastCard",a),Ve=!1,q.value="",z.value=[],ve.value=[],fe.value=[],se.value=!1,V.value=null,Ce.value=0,Z.value=0,I.value=!1,o.value="",a==="borclu-musteriler"?(b.value=!0,h.value=!1,A.value=null,ee.value=!1,i().then(()=>{g.value.length===0&&(console.log("🔥 Borçlu müşteri listesi boş, akıllı kart seçimi yapılıyor"),Oa())})):a==="alacakli-musteriler"?(b.value=!1,h.value=!0,A.value=null,ee.value=!1,d().then(()=>{D.value.length===0&&(console.log("🔥 Alacaklı müşteri listesi boş, akıllı kart seçimi yapılıyor"),Oa())})):a==="cikis-yapanlar"?(b.value=!1,h.value=!1,fa()):(b.value=!1,h.value=!1,K())}function de(){Ve=!1,q.value="",z.value=[],ve.value=[],fe.value=[],se.value=!1,V.value=null,Ce.value=0,Z.value=0,I.value=!1,o.value="",K()}function ea(a){switch(a){case"cikis-yapanlar":return"Çıkış Yapan Müşteriler";case"toplam-aktif":return"Devam Eden Müşteriler";case"suresi-dolan":return"Süresi Dolan Müşteriler";case"bugun-cikan":return"Bugün Çıkan Müşteriler";case"yeni-musteri":return"Yeni Müşteri Kayıtları";case"yeni-giris":return"Yeni Giriş Kayıtları";case"bugun-giren":return"Toplam Bugün Giren Müşteriler";case"borclu-musteriler":return"Borçlu Müşteriler";case"alacakli-musteriler":return"Alacaklı Müşteriler";default:return"Filtre Uygulandı"}}function ka(){F.value=null,b.value=!1,h.value=!1,ee.value=!1,A.value=null,se.value=!1,V.value=null,Ce.value=0,Z.value=0,I.value=!1,o.value="",q.value="",z.value=[],ve.value=[],fe.value=[],m.value=[],g.value=[],D.value=[],be.value=[]}function Va(a,e){console.log("Normal müşteri satırına tek tıklandı:",e),V.value=e,se.value=!0,yl(e.MstrTCN),xe(e),I.value&&o.value?console.log("Firma filtresi aktifken müşteri seçildi:",e.MstrAdi):I.value=!1,e.MstrHspTip==="Kurumsal"?(c(e),o.value=e.MstrFirma||""):I.value||(Z.value=0,o.value="")}async function yl(a){Pe.value=!0;try{const e=await J.get(`/dashboard/musteri-konaklama-gecmisi/${a}`);e.data.success&&(re.value=e.data.data,console.log(`${e.data.count} konaklama geçmişi kaydı yüklendi`))}catch(e){console.error("Konaklama geçmişi yüklenemedi:",e)}finally{Pe.value=!1}}function pl(a){we.value=a,Re.value=!0}let Aa=!1;const Na={x:0,y:0};function La(a){Aa=!0;const e=a.target.closest(".draggable-card")?.getBoundingClientRect();e&&(Na.x=a.clientX-e.left,Na.y=a.clientY-e.top),document.addEventListener("mousemove",Ha),document.addEventListener("mouseup",za),a.preventDefault()}function Ha(a){if(!Aa)return;const e=document.querySelector(".draggable-card");if(e){const l=a.clientX-Na.x,v=a.clientY-Na.y;e.style.position="fixed",e.style.left=`${Math.max(0,Math.min(l,window.innerWidth-e.offsetWidth))}px`,e.style.top=`${Math.max(0,Math.min(v,window.innerHeight-e.offsetHeight))}px`,e.style.transform="none"}}function za(){Aa=!1,document.removeEventListener("mousemove",Ha),document.removeEventListener("mouseup",za)}function bl(){return F.value&&{"suresi-dolan":w.value.SuresiGecentKonaklama||0,"borclu-musteriler":w.value.BorcluMusteriSayisi||0,"alacakli-musteriler":w.value.AlacakliMusteriSayisi||0,"toplam-aktif":w.value.ToplamAktifKonaklama||0,"yeni-musteri":w.value.YeniMusteriKonaklama||0,"yeni-giris":w.value.YeniGirisKonaklama||0,"bugun-cikan":w.value.BugünCikanKonaklama||0,"cikis-yapanlar":le.value||0}[F.value]||0}async function Oa(){console.log("🔥 Akıllı kart seçimi başlatılıyor...");const a=await Ia("suresi-dolan"),e=a?a.length:0;if(console.log("🔥 Süresi dolan kart sayısı:",e),e>0){console.log("🔥 Süresi dolan kartlar bulundu - öncelikli seçim yapılıyor"),ke("suresi-dolan");return}console.log("🔥 Süresi dolan kart yok - diğer kartlar kontrol ediliyor");const l=["alacakli-musteriler","borclu-musteriler","toplam-aktif","yeni-musteri","yeni-giris","bugun-cikan","cikis-yapanlar"];let v=null,C=0;for(const P of l){let te=[];P==="borclu-musteriler"?te=await hl():P==="alacakli-musteriler"?te=await Tl():P==="cikis-yapanlar"?te=await Kl():te=await Ia(P),te&&te.length>C&&(C=te.length,v=P)}v?(console.log("🔥 En iyi kart seçildi:",v,"Kayıt sayısı:",C),F.value=v,sessionStorage.setItem("kartliIslemLastCard",v),Ua(v)):console.log("🔥 Hiçbir kart seçilemedi - tüm kartlar boş")}async function hl(){const a=await J.get("/dashboard/borclu-musteriler");return a.data.success?a.data.data:[]}async function Tl(){const a=await J.get("/dashboard/alacakli-musteriler");return a.data.success?a.data.data:[]}async function Kl(){const a=await J.get("/dashboard/cikis-yapanlar?tip=TÜMÜ");return a.data.success?a.data.data:[]}async function Ia(a){const e=a==="yeni-musteri"?"yeni-musteri":a==="yeni-giris"?"yeni-giris":a,l=await J.get(`/dashboard/${e}?tip=TÜMÜ`);return l.data.success?l.data.data:[]}function Ua(a){console.log(`Seçilen kart verileri yükleniyor: ${a}`),a==="borclu-musteriler"?(console.log("Borçlu müşteriler tablosu gösteriliyor"),b.value=!0,h.value=!1,A.value=null,ee.value=!1,i()):a==="alacakli-musteriler"?(console.log("Alacaklı müşteriler tablosu gösteriliyor"),b.value=!1,h.value=!0,A.value=null,ee.value=!1,d()):a==="cikis-yapanlar"?(console.log("Çıkış yapanlar listesi gösteriliyor"),b.value=!1,h.value=!1,fa()):(console.log("Normal müşteri tablosu gösteriliyor"),b.value=!1,h.value=!1,Ze())}Ca(()=>{(async()=>(await K(),await Oa()))()});function wl(a){console.log("Firma filtresi değişti:",a,"Firma adı:",o.value),a&&o.value?Cl().then(()=>{V.value=null,A.value=null,Ce.value=0}):(V.value=null,A.value=null,se.value=!1,ee.value=!1,Ce.value=0,Z.value=0,o.value="")}async function Cl(){if(o.value)try{console.log("Firma geneli veriler yükleniyor:",o.value,"Borçlu tablo:",b.value),b.value?(await Ol(o.value),ee.value=!0,se.value=!1):(await Nl(o.value),se.value=!0,ee.value=!1),console.log("Firma geneli veriler yüklendi. Konaklama:",se.value,"Cari:",ee.value)}catch(a){console.error("Firma genel verileri yüklenirken hata:",a)}}async function Nl(a){Pe.value=!0;try{const e=await J.get(`/dashboard/firma-konaklama-gecmisi/${encodeURIComponent(a)}`);e.data.success&&(re.value=e.data.data,console.log(`Firma ${a} konaklama geçmişi: ${e.data.count} kayıt yüklendi`))}catch(e){console.error("Firma genel konaklama geçmişi yüklenemedi:",e)}finally{Pe.value=!1}}async function Ol(a){Se.value=!0;try{const e=await J.get(`/dashboard/firma-cari-hareketler/${encodeURIComponent(a)}`);e.data.success&&(be.value=e.data.data,console.log(`Firma ${a} cari hareketler: ${e.data.count} kayıt yüklendi`))}catch(e){console.error("Firma genel cari hareketler yüklenemedi:",e)}finally{Se.value=!1}}function ja(a){console.log("🚨 Kara liste uyarısı gösteriliyor:",a),Ne.value=a,Ye.value=!0}async function _l(){try{Oe.value=!0;const a="http://localhost:3000",e=[];if(I.value&&o.value)e.push(`firmaAdi=${encodeURIComponent(o.value)}`);else if(V.value?.MstrTCN)e.push(`tcNo=${encodeURIComponent(V.value.MstrTCN)}`);else throw new Error("Rapor için gerekli bilgiler bulunamadı");const l=e.join("&"),v=`${a}/konaklama-gecmisi-pdf?${l}`,C=await J.get(v,{responseType:"blob"}),P=new Blob([C.data],{type:"application/pdf"}),te=window.URL.createObjectURL(P),Le=document.createElement("a");Le.href=te;let $e="konaklama-gecmisi";I.value&&o.value?$e=`${o.value}-firma-konaklama-gecmisi`:V.value?.MstrAdi&&($e=`${V.value.MstrAdi}-konaklama-gecmisi`),$e+=`-${new Date().toISOString().split("T")[0]}.pdf`,Le.download=$e,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),window.URL.revokeObjectURL(te),console.log("PDF raporu başarıyla indirildi")}catch(a){console.error("PDF raporu indirme hatası:",a);const{Notify:e}=await tl(async()=>{const{Notify:l}=await import("./quasar.client-CHiEHbXK.js");return{Notify:l}},__vite__mapDeps([0,1,2]));e.create({type:"negative",message:"PDF raporu indirilemedi",position:"top"})}finally{Oe.value=!1}}async function Dl(){try{Ue.value=!0;const a="http://localhost:3000",e=[];if(I.value&&o.value)e.push(`firmaAdi=${encodeURIComponent(o.value)}`);else if(V.value?.MstrTCN)e.push(`tcNo=${encodeURIComponent(V.value.MstrTCN)}`);else throw new Error("Rapor için gerekli bilgiler bulunamadı");const l=e.join("&"),v=`${a}/konaklama-gecmisi-excel?${l}`,C=await J.get(v,{responseType:"blob"}),P=new Blob([C.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),te=window.URL.createObjectURL(P),Le=document.createElement("a");Le.href=te;let $e="konaklama-gecmisi";I.value&&o.value?$e=`${o.value}-firma-konaklama-gecmisi`:V.value?.MstrAdi&&($e=`${V.value.MstrAdi}-konaklama-gecmisi`),$e+=`-${new Date().toISOString().split("T")[0]}.xlsx`,Le.download=$e,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),window.URL.revokeObjectURL(te),console.log("Excel raporu başarıyla indirildi")}catch(a){console.error("Excel raporu indirme hatası:",a);const{Notify:e}=await tl(async()=>{const{Notify:l}=await import("./quasar.client-CHiEHbXK.js");return{Notify:l}},__vite__mapDeps([0,1,2]));e.create({type:"negative",message:"Excel raporu indirilemedi",position:"top"})}finally{Ue.value=!1}}async function Bl(){try{je.value=!0;const a="http://localhost:3000",e=[];if(I.value&&o.value)e.push(`firmaAdi=${encodeURIComponent(o.value)}`);else if(A.value?.CariVTCN)e.push(`tcNo=${encodeURIComponent(A.value.CariVTCN)}`);else throw new Error("Rapor için gerekli bilgiler bulunamadı");const l=e.join("&"),v=`${a}/cari-hareketler-pdf?${l}`,C=await fetch(v);if(!C.ok)throw new Error("PDF indirilemedi");const P=await C.blob(),te=document.createElement("a");te.href=window.URL.createObjectURL(P),te.download=`cari-hareketler-${Date.now()}.pdf`,te.click()}catch(a){const e=a instanceof Error?a.message:String(a);alert("PDF raporu indirilemedi: "+e)}finally{je.value=!1}}async function Sl(){try{na.value=!0;const a="http://localhost:3000",e=[];if(I.value&&o.value)e.push(`firmaAdi=${encodeURIComponent(o.value)}`);else if(A.value?.CariVTCN)e.push(`tcNo=${encodeURIComponent(A.value.CariVTCN)}`);else throw new Error("Rapor için gerekli bilgiler bulunamadı");const l=e.join("&"),v=`${a}/cari-hareketler-excel?${l}`,C=await fetch(v);if(!C.ok)throw new Error("Excel indirilemedi");const P=await C.blob(),te=document.createElement("a");te.href=window.URL.createObjectURL(P),te.download=`cari-hareketler-${Date.now()}.xlsx`,te.click()}catch(a){const e=a instanceof Error?a.message:String(a);alert("Excel raporu indirilemedi: "+e)}finally{na.value=!1}}return(a,e)=>(W(),Me(ct,{class:"q-pa-sm light-page-background"},{default:u(()=>[r("div",Ai,[r("div",Li,[s(Be,{class:Q(["bg-grey-7 text-white compact-card clickable-card",{"active-filter":F.value==="cikis-yapanlar"}]),onClick:e[0]||(e[0]=l=>ke("cikis-yapanlar"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[28]||(e[28]=r("div",{class:"text-body2"},"Eski Müşteri",-1)),r("div",Ei,p(le.value||0),1)]),_:1,__:[28]})]),_:1},8,["class"])]),r("div",Pi,[s(Be,{class:Q(["bg-green text-white compact-card clickable-card",{"active-filter":F.value==="bugun-cikan"}]),onClick:e[1]||(e[1]=l=>ke("bugun-cikan"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[29]||(e[29]=r("div",{class:"text-body2"},"Bugün Çıkan",-1)),r("div",Fi,p(w.value.BugünCikanKonaklama||0),1)]),_:1,__:[29]})]),_:1},8,["class"])]),r("div",$i,[s(Be,{class:Q(["bg-pink text-white compact-card clickable-card",{"active-filter":F.value==="yeni-musteri"}]),onClick:e[2]||(e[2]=l=>ke("yeni-musteri"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[30]||(e[30]=r("div",{class:"text-body2"},"Yeni Müşteri",-1)),r("div",Yi,p(w.value.YeniMusteriKonaklama||0),1)]),_:1,__:[30]})]),_:1},8,["class"])]),r("div",qi,[s(Be,{class:Q(["bg-teal text-white compact-card clickable-card",{"active-filter":F.value==="yeni-giris"}]),onClick:e[3]||(e[3]=l=>ke("yeni-giris"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[31]||(e[31]=r("div",{class:"text-body2"},"Yeni Giriş",-1)),r("div",Ri,p(w.value.YeniGirisKonaklama||0),1)]),_:1,__:[31]})]),_:1},8,["class"])]),r("div",Gi,[s(Be,{class:Q(["bg-primary text-white compact-card clickable-card",{"active-filter":F.value==="toplam-aktif"}]),onClick:e[4]||(e[4]=l=>ke("toplam-aktif"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[32]||(e[32]=r("div",{class:"text-body2"},"Devam Eden",-1)),r("div",Hi,p(w.value.ToplamAktifKonaklama||0),1)]),_:1,__:[32]})]),_:1},8,["class"])]),r("div",zi,[s(Be,{class:Q(["bg-orange text-white compact-card clickable-card",{"active-filter":F.value==="suresi-dolan"}]),onClick:e[5]||(e[5]=l=>ke("suresi-dolan"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[33]||(e[33]=r("div",{class:"text-body2"},"Süresi Dolan",-1)),r("div",Ii,p(w.value.SuresiGecentKonaklama||0),1)]),_:1,__:[33]})]),_:1},8,["class"])]),r("div",Ui,[s(Be,{class:Q(["bg-red text-white compact-card clickable-card",{"active-filter":F.value==="borclu-musteriler"}]),onClick:e[6]||(e[6]=l=>ke("borclu-musteriler"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[34]||(e[34]=r("div",{class:"text-body2"},"Borçlu Müşteriler",-1)),r("div",ji,p(w.value.BorcluMusteriSayisi||0),1)]),_:1,__:[34]})]),_:1},8,["class"])]),r("div",Qi,[s(Be,{class:Q(["bg-indigo text-white compact-card clickable-card",{"active-filter":F.value==="alacakli-musteriler"}]),onClick:e[7]||(e[7]=l=>ke("alacakli-musteriler"))},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[35]||(e[35]=r("div",{class:"text-body2"},"Alacaklı Müşteriler",-1)),r("div",Wi,p(w.value.AlacakliMusteriSayisi||0),1)]),_:1,__:[35]})]),_:1},8,["class"])]),r("div",Xi,[s(Be,{class:"bg-purple text-white compact-card"},{default:u(()=>[s(he,{class:"q-pa-xs"},{default:u(()=>[e[36]||(e[36]=r("div",{class:"text-body2"},"Listelenen Tutar",-1)),r("div",Ji,p(X(Fe.value)),1)]),_:1,__:[36]})]),_:1})])]),r("div",Zi,[r("div",eo,[s(Ma,{modelValue:y.value,"onUpdate:modelValue":[e[8]||(e[8]=l=>y.value=l),de],options:G.value,label:"Konaklama Tipi",outlined:"",dense:""},null,8,["modelValue","options"])]),la.value?(W(),ge("div",ao,[s(ye,{modelValue:q.value,"onUpdate:modelValue":[e[9]||(e[9]=l=>q.value=l),ue],label:"Arama",outlined:"",dense:"",clearable:"",debounce:"300",placeholder:"En az 3 karakter girin"},{prepend:u(()=>[s(qe,{name:"search"})]),_:1},8,["modelValue"])])):ce("",!0),r("div",lo,[s(ie,{color:"primary",icon:"refresh",label:"Yenile",size:"sm",onClick:K,loading:f.value},null,8,["loading"])]),F.value?(W(),ge("div",to,[s(Fa,{color:"secondary","text-color":"white",icon:"filter_list",label:ea(F.value),removable:"",onRemove:ka},null,8,["label"])])):ce("",!0),r("div",io,[V.value&&V.value.MstrHspTip==="Kurumsal"||I.value&&o.value?(W(),ge("div",oo,[s(et,{modelValue:I.value,"onUpdate:modelValue":[e[10]||(e[10]=l=>I.value=l),wl],color:"primary",size:"sm"},null,8,["modelValue"]),e[37]||(e[37]=r("div",{class:"text-body3 text-grey-6"}," Sadece Firma ",-1))])):ce("",!0),V.value&&V.value.MstrHspTip==="Kurumsal"||I.value&&o.value?(W(),ge("div",no,[e[38]||(e[38]=r("div",{class:"text-body1 text-grey-5"}," Seçilen Firma Bakiye: ",-1)),r("div",{class:Q(["text-h6 text-weight-bold",Ee(Z.value)])},p(X(Z.value)),3)])):ce("",!0),r("div",so,[e[39]||(e[39]=r("div",{class:"text-body1 text-grey-5"}," Seçilen Müşteri Bakiye: ",-1)),r("div",{class:Q(["text-h6 text-weight-bold",Ee(Ce.value)])},p(X(Ce.value)),3)])])]),!b.value&&!h.value?(W(),Me(Ka,{key:0,rows:We.value,columns:oa,"row-key":l=>`${l.MstrTCN}-${l.KnklmOdaNo}-${l.KnklmYtkNo}`,loading:f.value,pagination:Qe.value,selected:V.value?[V.value]:[],selection:"single",dense:"",bordered:"",separator:"cell",class:"dashboard-table compact-table",onRowClick:Va,onRowDblclick:L,"rows-per-page-options":[10,15,25,50],"rows-per-page-label":"Sayfa Başına Kayıt","table-style":"width: 100%","disable-sort":!1,flat:"","no-data-label":"Listelenecek Kayıt Bulunamadı"},{"body-cell-MstrAdi":u(l=>[s(j,{props:l},{default:u(()=>[r("div",ro,[l.row.KnklmKrLst==="EVET"?(W(),Me(qe,{key:0,name:"warning",color:"red-6",size:"md",class:"q-mr-sm cursor-pointer",onClick:v=>ja(l.row)},{default:u(()=>[s(Ie,{class:"bg-red text-white text-body2",delay:300},{default:u(()=>e[40]||(e[40]=[x(" 🚨 KARA LİSTE MÜŞTERİSİ - Detaylar için tıklayın ")])),_:1,__:[40]})]),_:2},1032,["onClick"])):ce("",!0),r("div",{class:Q(["text-weight-bold",l.row.KnklmKrLst==="EVET"?"text-red-6":""])},p(l.value),3)])]),_:2},1032,["props"])]),"body-cell-KnklmOdaNo":u(l=>[s(j,{props:l},{default:u(()=>[s(Fa,{color:"blue","text-color":"white",dense:""},{default:u(()=>[x(p(l.row.KnklmOdaNo)+"-"+p(l.row.KnklmYtkNo),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-KnklmTip":u(l=>[s(j,{props:l},{default:u(()=>[s($a,{color:_e(l.value),label:l.value},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-KnklmNfyt":u(l=>[s(j,{props:l},{default:u(()=>[r("div",uo,p(X(l.value)),1)]),_:2},1032,["props"])]),"body-cell-KnklmPlnTrh":u(l=>[s(j,{props:l},{default:u(()=>[r("div",{class:Q(U(l.value))},p(R(l.value)),3)]),_:2},1032,["props"])]),"body-cell-actions":u(l=>[s(j,{props:l},{default:u(()=>[s(ie,{flat:"",round:"",dense:"",color:"blue",icon:"visibility",onClick:v=>T(l.row)},{default:u(()=>[s(Ie,null,{default:u(()=>e[41]||(e[41]=[x("Detay Görüntüle")])),_:1,__:[41]})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","row-key","loading","pagination","selected"])):ce("",!0),b.value?(W(),Me(Ka,{key:1,rows:He.value,columns:ca,"row-key":l=>l.CariKod,loading:f.value,pagination:Je.value,selected:A.value?[A.value]:[],selection:"single",dense:"",bordered:"",separator:"cell",class:"dashboard-table compact-table",onRowClick:ae,"rows-per-page-options":[5,10,15],"rows-per-page-label":"Sayfa Başına Kayıt","table-style":"width: 100%","disable-sort":!1,flat:"","no-data-label":"Borçlu Müşteri Bulunamadı"},{"body-cell-cKytTarihi":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props","class"])]),"body-cell-CariKllnc":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariKod":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariAdi":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[r("div",co,p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariVD":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariVTCN":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariYetkili":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariTelNo":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-BorcTutari":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[r("div",mo,p(X(l.value)),1)]),_:2},1032,["props","class"])]),"body-cell-odemeVadesi":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[r("span",{class:Q({"text-red":!l.value})},p(l.value?R(l.value):"-"),3)]),_:2},1032,["props","class"])]),_:1},8,["rows","row-key","loading","pagination","selected"])):ce("",!0),h.value?(W(),Me(Ka,{key:2,rows:da.value,columns:ma,"row-key":l=>l.CariKod,loading:f.value,pagination:va.value,selected:A.value?[A.value]:[],selection:"single",dense:"",bordered:"",separator:"cell",class:"dashboard-table compact-table",onRowClick:O,"rows-per-page-options":[5,10,15],"rows-per-page-label":"Sayfa Başına Kayıt","table-style":"width: 100%","disable-sort":!1,flat:"","no-data-label":"Alacaklı Müşteri Bulunamadı"},{"body-cell-cKytTarihi":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props","class"])]),"body-cell-CariKllnc":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariKod":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariAdi":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[r("div",vo,p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariVD":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariVTCN":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariYetkili":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-CariTelNo":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[x(p(l.value),1)]),_:2},1032,["props","class"])]),"body-cell-AlacakTutari":u(l=>[s(j,{props:l,class:Q({"selected-row":A.value?.CariKod===l.row.CariKod})},{default:u(()=>[r("div",fo,p(X(l.value)),1)]),_:2},1032,["props","class"])]),_:1},8,["rows","row-key","loading","pagination","selected"])):ce("",!0),(b.value||h.value)&&ee.value?(W(),Me(Ka,{key:3,rows:ia.value,columns:sa.value,"row-key":l=>`${l.iKytTarihi}-${l.islemTutar}`,loading:Se.value,pagination:pa.value,dense:"",separator:"cell",class:"dashboard-table compact-table q-mt-sm","rows-per-page-options":[15,25,50],"rows-per-page-label":"Sayfa Başına Kayıt","table-style":"width: 100%","disable-sort":!1,flat:"","no-data-label":"Cari Hareket Bulunamadı"},{top:u(()=>[r("div",ko,[I.value&&o.value?(W(),ge("span",go,p(o.value)+" - Firma Cari Hareketler",1)):A.value?(W(),ge("span",yo,p(A.value.CariAdi)+" - Cari Hareketler",1)):(W(),ge("span",po,"Cari Hareketler")),s(ie,{flat:"",round:"",dense:"",class:"pdf-btn",onClick:e[11]||(e[11]=()=>Bl()),loading:je.value},{default:u(()=>[e[43]||(e[43]=r("img",{src:"/icons/adobe-pdf.png",alt:"PDF",class:"report-icon"},null,-1)),s(Ie,{class:"bg-blue text-white text-body2",delay:300},{default:u(()=>e[42]||(e[42]=[x(" Cari Hareketler PDF ")])),_:1,__:[42]})]),_:1,__:[43]},8,["loading"]),s(ie,{flat:"",round:"",dense:"",class:"excel-btn",onClick:e[12]||(e[12]=()=>Sl()),loading:na.value},{default:u(()=>[e[45]||(e[45]=r("img",{src:"/icons/excel-xlsx.png",alt:"Excel",class:"report-icon"},null,-1)),s(Ie,{class:"bg-green text-white text-body2",delay:300},{default:u(()=>e[44]||(e[44]=[x(" Cari Hareketler Excel ")])),_:1,__:[44]})]),_:1,__:[45]},8,["loading"])])]),"body-cell-CariAdi":u(l=>[s(j,{props:l},{default:u(()=>[r("div",bo,p(l.value||I.value&&A.value?.CariAdi||I.value&&V.value?.MstrAdi||"N/A"),1)]),_:2},1032,["props"])]),"body-cell-iKytTarihi":u(l=>[s(j,{props:l},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props"])]),"body-cell-islemTip":u(l=>[s(j,{props:l},{default:u(()=>[s($a,{color:me(l.value),label:l.value},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-islemTutar":u(l=>[s(j,{props:l},{default:u(()=>[r("div",{class:Q(["text-weight-bold",De(l.row.islemTip)])},p(X(l.value)),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","row-key","loading","pagination"])):ce("",!0),!b.value&&!h.value&&se.value?(W(),Me(Ka,{key:4,rows:Xe.value,columns:ze.value,"row-key":l=>`${l.knklmNo}`,loading:Pe.value,pagination:Ge.value,dense:"",bordered:"",separator:"cell",class:"dashboard-table compact-table q-mt-md","rows-per-page-options":[10,15,25],"rows-per-page-label":"Sayfa Başına Kayıt","table-style":"width: 100%","disable-sort":!1,flat:"","no-data-label":"Konaklama Geçmişi Bulunamadı"},{top:u(()=>[r("div",ho,[I.value&&o.value?(W(),ge("span",To,p(o.value)+" - Firma Konaklama Geçmişi",1)):V.value?(W(),ge("span",Ko,p(V.value.MstrAdi)+" - Konaklama Geçmişi",1)):(W(),ge("span",wo,"Konaklama Geçmişi")),s(ie,{flat:"",round:"",dense:"",class:"pdf-btn",onClick:e[13]||(e[13]=()=>_l()),loading:Oe.value},{default:u(()=>[e[47]||(e[47]=r("img",{src:"/icons/adobe-pdf.png",alt:"PDF",class:"report-icon"},null,-1)),s(Ie,{class:"bg-red text-white text-body2",delay:300},{default:u(()=>e[46]||(e[46]=[x(" PDF Raporu İndir ")])),_:1,__:[46]})]),_:1,__:[47]},8,["loading"]),s(ie,{flat:"",round:"",dense:"",class:"excel-btn",onClick:e[14]||(e[14]=()=>Dl()),loading:Ue.value},{default:u(()=>[e[49]||(e[49]=r("img",{src:"/icons/excel-xlsx.png",alt:"Excel",class:"report-icon"},null,-1)),s(Ie,{class:"bg-green text-white text-body2",delay:300},{default:u(()=>e[48]||(e[48]=[x(" Excel Raporu İndir ")])),_:1,__:[48]})]),_:1,__:[49]},8,["loading"])])]),"body-cell-MstrAdi":u(l=>[s(j,{props:l},{default:u(()=>[r("div",Co,[l.row.KnklmKrLst==="EVET"?(W(),Me(qe,{key:0,name:"warning",color:"red-6",size:"md",class:"q-mr-sm cursor-pointer",onClick:v=>ja(l.row)},{default:u(()=>[s(Ie,{class:"bg-red text-white text-body2",delay:300},{default:u(()=>e[50]||(e[50]=[x(" 🚨 KARA LİSTE MÜŞTERİSİ - Detaylar için tıklayın ")])),_:1,__:[50]})]),_:2},1032,["onClick"])):ce("",!0),r("div",{class:Q(["text-weight-bold",l.row.KnklmKrLst==="EVET"?"text-red-6":""])},p(l.value||I.value&&V.value?.MstrAdi||"N/A"),3)])]),_:2},1032,["props"])]),"body-cell-kKytTarihi":u(l=>[s(j,{props:l},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props"])]),"body-cell-KnklmOdaNo":u(l=>[s(j,{props:l},{default:u(()=>[s(Fa,{color:"blue","text-color":"white",dense:""},{default:u(()=>[x(p(l.row.KnklmOdaNo)+"-"+p(l.row.KnklmYtkNo),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-KnklmTip":u(l=>[s(j,{props:l},{default:u(()=>[s($a,{color:_e(l.value),label:l.value},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-KnklmNfyt":u(l=>[s(j,{props:l},{default:u(()=>[r("div",No,p(X(l.value)),1)]),_:2},1032,["props"])]),"body-cell-KnklmGrsTrh":u(l=>[s(j,{props:l},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props"])]),"body-cell-KnklmPlnTrh":u(l=>[s(j,{props:l},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props"])]),"body-cell-KnklmCksTrh":u(l=>[s(j,{props:l},{default:u(()=>[x(p(R(l.value)),1)]),_:2},1032,["props"])]),"body-cell-Detaylar":u(l=>[s(j,{props:l},{default:u(()=>[s(ie,{flat:"",round:"",dense:"",color:"primary",icon:"info",onClick:v=>pl(l.row)},{default:u(()=>[s(Ie,null,{default:u(()=>e[51]||(e[51]=[x("Detayları Görüntüle")])),_:1,__:[51]})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","row-key","loading","pagination"])):ce("",!0),s(ua,{modelValue:H.value,"onUpdate:modelValue":e[16]||(e[16]=l=>H.value=l),persistent:"",class:"floating-dialog"},{default:u(()=>[s(Be,{style:{"min-width":"500px"},class:"draggable-card"},{default:u(()=>[s(he,{class:"row items-center q-pb-none bg-primary text-white cursor-move q-card__section--head",onMousedown:La},{default:u(()=>[e[52]||(e[52]=r("div",{class:"text-h6"},"Müşteri Detayları",-1)),s(xa),Pa(s(ie,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ya]])]),_:1,__:[52]}),Y.value?(W(),Me(he,{key:0},{default:u(()=>[r("div",Oo,[r("div",_o,[e[53]||(e[53]=r("strong",null,"Müşteri Adı:",-1)),x(" "+p(Y.value.MstrAdi),1)]),r("div",Do,[e[54]||(e[54]=r("strong",null,"TC Kimlik:",-1)),x(" "+p(Y.value.MstrTCN),1)]),r("div",Bo,[e[55]||(e[55]=r("strong",null,"Telefon:",-1)),x(" "+p(Y.value.MstrTelNo),1)]),r("div",So,[e[56]||(e[56]=r("strong",null,"Firma:",-1)),x(" "+p(Y.value.MstrFirma||"Bireysel"),1)]),r("div",xo,[e[57]||(e[57]=r("strong",null,"Oda:",-1)),x(" "+p(Y.value.KnklmOdaNo)+"-"+p(Y.value.KnklmYtkNo)+" ("+p(Y.value.KnklmOdaTip)+") ",1)]),r("div",Mo,[e[58]||(e[58]=r("strong",null,"Konaklama Tipi:",-1)),x(" "+p(Y.value.KnklmTip),1)]),r("div",Vo,[e[59]||(e[59]=r("strong",null,"Tutar:",-1)),x(" "+p(X(Y.value.KnklmNfyt)),1)]),r("div",Ao,[e[60]||(e[60]=r("strong",null,"Giriş Tarihi:",-1)),x(" "+p(R(Y.value.KnklmGrsTrh)),1)]),r("div",Lo,[e[61]||(e[61]=r("strong",null,"Planlanan Çıkış:",-1)),x(" "+p(R(Y.value.KnklmPlnTrh)),1)]),Y.value.KnklmNot?(W(),ge("div",Eo,[e[62]||(e[62]=r("strong",null,"Not:",-1)),x(" "+p(Y.value.KnklmNot),1)])):ce("",!0)])]),_:1})):ce("",!0),s(ga,{align:"right"},{default:u(()=>[s(ie,{flat:"",label:"Kapat",color:"primary",onClick:e[15]||(e[15]=l=>H.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(ua,{modelValue:Re.value,"onUpdate:modelValue":e[24]||(e[24]=l=>Re.value=l),persistent:"",class:"floating-dialog"},{default:u(()=>[s(Be,{style:{"min-width":"600px"},class:"draggable-card"},{default:u(()=>[s(he,{class:"row items-center q-pb-none bg-primary text-white cursor-move q-card__section--head",onMousedown:La},{default:u(()=>[e[63]||(e[63]=r("div",{class:"text-h6"},"Konaklama Detayları",-1)),s(xa),Pa(s(ie,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ya]])]),_:1,__:[63]}),we.value?(W(),Me(he,{key:0},{default:u(()=>[r("div",Po,[r("div",Fo,[s(ye,{modelValue:we.value.KnklmKllnc,"onUpdate:modelValue":e[17]||(e[17]=l=>we.value.KnklmKllnc=l),label:"Kullanıcı",outlined:"",readonly:"",dense:""},null,8,["modelValue"])]),r("div",$o,[s(ye,{modelValue:we.value.KnklmLfyt,"onUpdate:modelValue":e[18]||(e[18]=l=>we.value.KnklmLfyt=l),label:"Lüks Fiyat",outlined:"",readonly:"",dense:""},null,8,["modelValue"])]),r("div",Yo,[s(ye,{modelValue:we.value.Knklmisk,"onUpdate:modelValue":e[19]||(e[19]=l=>we.value.Knklmisk=l),label:"İskonto",outlined:"",readonly:"",dense:""},null,8,["modelValue"])]),r("div",qo,[s(ye,{modelValue:we.value.KnklmOdmTkvGun,"onUpdate:modelValue":e[20]||(e[20]=l=>we.value.KnklmOdmTkvGun=l),label:"Ödeme Takvim Günü",outlined:"",readonly:"",dense:""},null,8,["modelValue"])]),r("div",Ro,[s(ye,{modelValue:we.value.KnklmKrLst,"onUpdate:modelValue":e[21]||(e[21]=l=>we.value.KnklmKrLst=l),label:"Kara Liste",outlined:"",readonly:"",dense:""},null,8,["modelValue"])]),r("div",Go,[s(ye,{modelValue:we.value.KnklmNot,"onUpdate:modelValue":e[22]||(e[22]=l=>we.value.KnklmNot=l),label:"Not",outlined:"",readonly:"",dense:"",type:"textarea",rows:"3"},null,8,["modelValue"])])])]),_:1})):ce("",!0),s(ga,{align:"right"},{default:u(()=>[s(ie,{flat:"",label:"Kapat",color:"primary",onClick:e[23]||(e[23]=l=>Re.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(qt,{showing:f.value},{default:u(()=>[s(Yt,{size:"50px",color:"primary"})]),_:1},8,["showing"]),s(ua,{modelValue:Ye.value,"onUpdate:modelValue":e[26]||(e[26]=l=>Ye.value=l),persistent:"",class:"floating-dialog"},{default:u(()=>[s(Be,{style:{"min-width":"500px","max-width":"600px"},class:"draggable-card"},{default:u(()=>[s(he,{class:"row items-center q-pb-none bg-red text-white cursor-move q-card__section--head",onMousedown:La},{default:u(()=>[s(qe,{name:"warning",size:"md",class:"q-mr-sm"}),e[64]||(e[64]=r("div",{class:"text-h6"},"🚨 KARA LİSTE MÜŞTERİSİ UYARI",-1)),s(xa),Pa(s(ie,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ya]])]),_:1,__:[64]}),Ne.value?(W(),Me(he,{key:0},{default:u(()=>[r("div",Ho,[s(qe,{name:"report_problem",size:"4rem",color:"red-6"})]),e[73]||(e[73]=r("div",{class:"text-h6 text-center text-red-6 q-mb-md"}," ⚠️ DİKKAT: Bu müşteri kara listede yer almaktadır! ",-1)),r("div",zo,[e[71]||(e[71]=r("strong",null,"Müşteri Bilgileri:",-1)),r("ul",Io,[r("li",null,[e[65]||(e[65]=r("strong",null,"Adı:",-1)),x(" "+p(Ne.value.MstrAdi||"N/A"),1)]),r("li",null,[e[66]||(e[66]=r("strong",null,"TC:",-1)),x(" "+p(Ne.value.MstrTCN||"N/A"),1)]),Ne.value.MstrTelNo?(W(),ge("li",Uo,[e[67]||(e[67]=r("strong",null,"Telefon:",-1)),x(" "+p(Ne.value.MstrTelNo),1)])):ce("",!0),Ne.value.MstrFirma?(W(),ge("li",jo,[e[68]||(e[68]=r("strong",null,"Firma:",-1)),x(" "+p(Ne.value.MstrFirma),1)])):ce("",!0),Ne.value.KnklmNot?(W(),ge("li",Qo,[e[69]||(e[69]=r("strong",null,"Kara Liste Sebebi:",-1)),x(" "+p(Ne.value.KnklmNot),1)])):(W(),ge("li",Wo,e[70]||(e[70]=[r("strong",null,"Kara Liste Sebebi:",-1),x(),r("em",null,"Açıklama bulunmuyor",-1)])))])]),s(st,{class:"bg-red-1 text-red-8 q-mb-md",rounded:""},{avatar:u(()=>[s(qe,{name:"info",color:"red-6"})]),default:u(()=>[e[72]||(e[72]=x(" Bu müşteriyle ilgili işlemler yapmadan önce lütfen kara listeye alınma sebebini inceleyin. "))]),_:1,__:[72]})]),_:1,__:[73]})):ce("",!0),s(ga,{align:"right"},{default:u(()=>[s(ie,{flat:"",label:"ANLADIM",color:"red",onClick:e[25]||(e[25]=l=>Ye.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(Vi,{modelValue:Ke.value,"onUpdate:modelValue":e[27]||(e[27]=l=>Ke.value=l),"selected-data":oe.value,"active-filter":F.value,onSaved:K,onRefresh:K},null,8,["modelValue","selected-data","active-filter"])]),_:1}))}}),dn=fl(Xo,[["__scopeId","data-v-45403ede"]]);export{dn as default};
